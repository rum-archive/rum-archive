---
title: RUM Insights
description: RUM Insights home
layout: layouts/page.njk
---

Testing basic highcharts setup 

{# <script src="/js/charts/timeseries.js"></script> #}
<script src="/js/highcharts/highstock.js"></script>
<script src="/js/highcharts/exporting.js"></script>
<script src="/js/highcharts/export-data.js"></script>
<script src="/js/highcharts/accessibility.js"></script>

<section class="doclist mt-3 pt-3">
  <div class="columns">
    <div class="column" id="histogram1">
    </div>
  </div>
  <div class="columns">
    <div class="column" id="histogram2">
    </div>
  </div>
  <div class="columns">
    <div class="column" id="donut00">
    </div>
    <div class="column" id="donut01">
    </div>
    <div class="column" id="donut02">
    </div>
  </div>
  <div class="columns">
    <div class="column" id="donut0">
    </div>
    <div class="column" id="donut1">
    </div>
  </div>
  <div class="columns">
    <div class="column" id="donut2">
    </div>
    <div class="column" id="donut3">
    </div>
  </div>
  <div class="columns">
    <div class="column" id="donut4">
    </div>
    <div class="column" id="donut5">
    </div>
  </div>
  <div class="container" id="chart0">
  </div>
  <div class="container" id="chart1">
  </div>
  <div class="container" id="chart2">
  </div>
  <div class="container" id="chart3">
  </div>
</section>

<script type="module">

    // import HighCharts from "/js/charts/timeseries.js";

    import * as TimeSeries from "/js/charts/timeseries.js"; 
    import * as Donuts from "/js/charts/donuts.js";
    import * as Area from "/js/charts/area.js";

    const piecolors = [ TimeSeries.Colors.RUMARCHIVE_MAIN[0], TimeSeries.Colors.RUMARCHIVE_MAIN[1], TimeSeries.Colors.RUMARCHIVE_SECONDARY[5] ];

    const FORCE_EXTERNAL_DATA = true;
    let DATA_BASE_URL = "https://raw.githubusercontent.com/rum-archive/rum-insights-data/insights_v1/data-output/";

    if ( window.location.href.includes("localhost") && !FORCE_EXTERNAL_DATA ) {
      // allow for easy local testing
      // launch a basic python http server in the rum-insights-data dir with `python3 -m http.server 9000`
      DATA_BASE_URL = "https://localhost:9000/data-output/";
    }

    {
      const options = {};

      const descriptionKey = "navigationtype";

      let rumarchiveData = [{"client":"unknown","date":"2023_03_01","navigationtype":"back forward","timestamp":"1677628800000","histogram":[[8,5347],[14,14846],[24,7806],[34,4274],[44,2276],[53,1235],[64,710],[74,492],[84,290],[94,227],[104,238],[115,225],[124,276],[135,291],[145,417],[155,434],[165,542],[175,552],[185,605],[195,649],[205,689],[216,731],[225,1043],[235,1592],[245,2188],[255,2758],[264,3199],[275,3170],[285,2978],[294,2613],[305,2276],[315,1936],[323,1590],[334,1351],[344,1275],[355,1178],[366,1086],[374,944],[384,851],[395,788],[406,672],[415,598],[424,557],[435,465],[446,442],[453,426],[464,410],[475,366],[486,347],[495,307],[505,255],[514,234],[526,259],[536,200],[543,203],[554,194],[565,190],[574,175],[584,148],[595,145],[605,156],[615,119],[624,117],[636,130],[644,89],[655,133],[664,87],[674,107],[684,87],[696,82],[705,76],[714,65],[725,64],[736,73],[744,59],[755,52],[766,66],[777,60],[785,54],[793,56],[804,56],[815,52],[823,48],[834,38],[844,47],[855,42],[865,43],[875,47],[885,46],[894,34],[906,41],[915,47],[925,43],[935,43],[945,38],[956,44],[966,32],[976,28],[985,23],[995,32]]},{"client":"unknown","date":"2023_03_01","navigationtype":"navigate","timestamp":"1677628800000","histogram":[[4,384],[15,657],[25,847],[36,2577],[45,4105],[54,3898],[64,3350],[74,2831],[84,2417],[94,2132],[104,1976],[115,1843],[124,1681],[135,1545],[144,1514],[154,1528],[164,1505],[175,1572],[184,1631],[195,1575],[204,1627],[214,1645],[224,1676],[234,1948],[244,2403],[255,3056],[265,3819],[275,4112],[284,4180],[294,4175],[305,4001],[315,3706],[324,3313],[335,3105],[344,2974],[356,2930],[365,2697],[374,2744],[385,2561],[395,2487],[404,2343],[416,2211],[425,2131],[435,2119],[445,2142],[455,2345],[466,2575],[475,2625],[485,2804],[495,2979],[504,3059],[515,3013],[524,2945],[534,2783],[545,2818],[555,2917],[565,2757],[575,2753],[585,2771],[594,2615],[604,2676],[614,2634],[624,2535],[634,2528],[645,2578],[654,2490],[664,2534],[675,2572],[685,2523],[694,2457],[705,2548],[715,2450],[725,2271],[734,2372],[744,2311],[755,2221],[764,2255],[774,2232],[785,2123],[796,2189],[804,2045],[815,2122],[824,2072],[835,1934],[845,1907],[854,1909],[865,1885],[875,1919],[885,1782],[895,1813],[905,1833],[913,1765],[925,1733],[935,1711],[944,1666],[955,1683],[965,1653],[975,1630],[984,1627],[994,1619]]},{"client":"unknown","date":"2023_03_01","navigationtype":"reload","timestamp":"1677628800000","histogram":[[5,4],[26,77],[35,59],[46,85],[53,168],[64,89],[72,56],[84,74],[95,55],[105,31],[114,35],[125,28],[134,26],[145,20],[156,31],[165,21],[174,22],[185,24],[195,15],[206,13],[215,16],[225,24],[237,50],[245,64],[254,81],[265,106],[274,118],[284,102],[294,91],[304,91],[315,77],[326,82],[334,79],[344,80],[356,54],[365,51],[375,57],[385,41],[395,47],[405,51],[415,55],[423,40],[435,36],[444,45],[454,40],[466,36],[474,43],[483,35],[496,40],[505,43],[515,50],[524,45],[534,45],[546,40],[554,50],[564,35],[575,35],[585,43],[594,40],[606,41],[615,33],[624,38],[636,40],[644,37],[655,38],[666,25],[674,32],[684,33],[696,28],[705,30],[715,23],[724,34],[735,41],[746,35],[756,35],[766,22],[775,34],[786,24],[795,22],[806,25],[814,25],[824,30],[835,17],[845,22],[854,19],[864,18],[875,19],[884,34],[894,25],[906,21],[915,28],[925,17],[935,12],[944,26],[955,17],[965,20],[975,15],[985,11],[996,15]]},{"client":"desktop","date":"2023_03_01","navigationtype":"back forward","timestamp":"1677628800000","histogram":[[5,1046102],[12,315207],[23,144695],[34,103632],[45,83684],[55,70876],[65,61688],[75,54938],[85,51545],[95,47650],[104,45711],[115,44252],[125,42636],[135,42030],[145,40948],[155,40317],[164,39279],[174,38950],[185,38056],[194,37762],[205,37170],[214,36788],[224,35804],[234,35169],[245,34924],[255,34316],[265,34361],[275,33411],[284,32753],[294,31824],[304,31452],[315,30578],[324,29739],[334,29453],[344,28875],[354,27771],[365,27685],[374,27067],[384,26563],[394,26137],[404,25504],[414,24957],[424,24389],[434,23814],[445,23472],[454,23027],[464,22449],[474,21883],[484,21556],[494,21060],[505,20574],[515,20053],[525,19693],[534,19419],[545,19140],[554,18501],[564,18246],[574,17888],[585,17419],[594,17289],[604,16816],[613,16770],[625,16396],[634,15872],[645,15803],[655,15680],[665,15348],[674,15137],[685,14765],[695,14739],[705,14637],[714,14314],[725,13988],[735,13902],[745,13951],[754,13980],[764,13692],[775,13725],[785,13323],[795,13036],[805,13000],[814,12789],[825,12824],[835,12704],[844,12317],[855,12122],[865,12148],[875,12288],[885,11940],[895,11758],[905,11635],[915,11492],[925,11204],[934,11271],[944,11091],[955,10846],[965,10693],[974,10613],[985,10433],[994,10400]]},{"client":"desktop","date":"2023_03_01","navigationtype":"navigate","timestamp":"1677628800000","histogram":[[5,651645],[13,383023],[25,272276],[35,337870],[45,441129],[55,529670],[64,584066],[74,622230],[84,668415],[95,722527],[105,759602],[114,799815],[124,832586],[134,852399],[144,857014],[155,844845],[164,831745],[174,817954],[184,804849],[194,788505],[204,770709],[215,756295],[224,743376],[234,733935],[244,718639],[254,707471],[264,689514],[274,670513],[285,652707],[295,636984],[304,622706],[314,606686],[325,592167],[334,578887],[344,563036],[354,550445],[365,540457],[374,528715],[384,520955],[395,513476],[405,502885],[415,495333],[424,488741],[434,482902],[445,475400],[455,467940],[465,459312],[474,454154],[485,446696],[495,437944],[504,430232],[515,423894],[524,415447],[535,409427],[544,403962],[555,400273],[565,394850],[575,388404],[585,383567],[595,377458],[604,371052],[615,364761],[624,358411],[634,354649],[644,348051],[655,342968],[665,338635],[675,334366],[684,330437],[695,325430],[704,321673],[715,316964],[725,310885],[735,306441],[745,302621],[754,298631],[765,295532],[774,291465],[784,288305],[795,285319],[804,281806],[814,277784],[825,272470],[834,268129],[845,265352],[854,263226],[864,259367],[874,255487],[884,253150],[894,249895],[905,247916],[914,243459],[925,238826],[935,235231],[944,234120],[954,229794],[965,226826],[974,223595],[985,221256],[995,219438]]},{"client":"desktop","date":"2023_03_01","navigationtype":"reload","timestamp":"1677628800000","histogram":[[5,222],[17,3978],[24,9833],[34,16757],[46,23456],[54,28736],[65,31792],[75,35644],[86,39202],[96,42506],[105,44615],[114,47858],[124,49970],[134,52765],[144,55465],[154,55421],[164,54430],[174,52865],[184,52372],[194,50519],[204,49434],[215,47838],[225,46340],[234,44741],[245,43058],[255,41852],[265,40728],[275,39544],[284,38723],[294,37407],[304,36314],[314,34917],[325,33788],[335,32406],[345,31097],[355,29946],[365,29106],[374,27730],[384,27198],[394,26602],[404,25328],[414,24347],[424,23548],[434,22925],[444,22299],[455,21812],[465,20862],[474,20597],[484,20074],[495,19356],[504,18858],[514,18098],[525,17683],[534,17130],[544,16716],[554,16308],[565,16193],[575,15595],[585,15290],[594,14941],[604,14403],[615,14152],[624,13901],[634,13263],[644,13357],[655,12812],[665,12566],[675,12402],[684,12162],[694,12266],[704,11758],[714,11447],[725,11237],[735,11106],[745,10889],[755,10623],[765,10531],[774,10144],[785,9981],[794,9992],[804,9675],[814,9590],[824,9091],[835,9309],[845,8885],[854,8767],[865,8686],[874,8634],[885,8560],[894,8405],[905,8131],[914,7955],[925,7645],[934,7701],[945,7330],[954,7404],[965,7242],[974,7117],[985,7108],[994,6720]]},{"client":"mobile","date":"2023_03_01","navigationtype":"back forward","timestamp":"1677628800000","histogram":[[8,84028],[14,453208],[25,389244],[34,249038],[45,176562],[55,147792],[64,133080],[75,123536],[85,117884],[94,113024],[104,109199],[115,107614],[124,106861],[135,106053],[145,106555],[155,106971],[164,107210],[175,107453],[185,108886],[194,108483],[205,108715],[215,107849],[224,105803],[234,104128],[245,102716],[255,100109],[265,98243],[274,96180],[285,93195],[295,90546],[305,88246],[316,85340],[326,83258],[335,82305],[345,79426],[355,77407],[364,75429],[376,73794],[384,72021],[395,69386],[406,68096],[415,66451],[425,64906],[433,63484],[445,62502],[453,60243],[465,59414],[474,57686],[485,56091],[494,55157],[505,54062],[514,52981],[524,51757],[535,50527],[544,49700],[554,48203],[565,47571],[574,46067],[586,45164],[595,44068],[604,42843],[614,42144],[624,41560],[635,40128],[645,39359],[655,39033],[664,37841],[676,37553],[685,36818],[694,35779],[703,35473],[714,35051],[725,34452],[734,33815],[746,33092],[754,32685],[765,32310],[774,31739],[784,31421],[793,30738],[805,30723],[815,30313],[825,30133],[834,29590],[846,29443],[855,29086],[864,28507],[874,28223],[886,27767],[894,27444],[904,27490],[914,26868],[925,26524],[934,26145],[944,25715],[953,25351],[965,25245],[974,24825],[985,24270],[993,23741]]},{"client":"mobile","date":"2023_03_01","navigationtype":"navigate","timestamp":"1677628800000","histogram":[[7,134150],[16,273128],[25,319624],[35,454832],[45,634082],[55,808410],[63,938315],[75,1047397],[85,1139965],[96,1207255],[105,1265121],[114,1325213],[124,1366403],[133,1388491],[145,1402680],[155,1413363],[164,1422989],[175,1425285],[185,1422889],[194,1411917],[205,1392586],[215,1368166],[225,1332664],[235,1292763],[244,1252096],[256,1216333],[264,1178600],[274,1143565],[285,1108854],[295,1074275],[304,1042435],[315,1011466],[324,982804],[335,958487],[344,932990],[354,909699],[365,887355],[373,865425],[386,841197],[394,819982],[405,795300],[415,776986],[424,758008],[435,739997],[443,723199],[455,706603],[465,692420],[475,675817],[485,661304],[495,648481],[506,631149],[513,616312],[524,607019],[535,593666],[545,583868],[553,571460],[565,564225],[575,552357],[584,540864],[594,531939],[604,521658],[615,512280],[624,501234],[634,493705],[644,485067],[655,476638],[665,470524],[674,463994],[684,455205],[695,446628],[705,439266],[714,431794],[724,424808],[735,419736],[745,413512],[755,407821],[765,404909],[776,398582],[783,392529],[795,388854],[805,382978],[815,376829],[824,372038],[836,366089],[846,363459],[855,357819],[864,355274],[876,352018],[884,346771],[896,342068],[905,339209],[915,333155],[923,330527],[935,325957],[945,320687],[954,316326],[964,312672],[975,308450],[984,305640],[995,300984]]},{"client":"mobile","date":"2023_03_01","navigationtype":"reload","timestamp":"1677628800000","histogram":[[5,284],[16,704],[25,4105],[35,13553],[45,32784],[55,54521],[64,70899],[74,78319],[84,80557],[95,79305],[104,76625],[115,74678],[125,72095],[134,70056],[144,68605],[155,67593],[164,66787],[174,67256],[184,68066],[195,67996],[205,68088],[214,65703],[224,63010],[235,59968],[244,57686],[255,55467],[265,55150],[274,54202],[285,52902],[294,51193],[305,49366],[315,47716],[324,45722],[334,44451],[345,43341],[355,41806],[365,39986],[375,39071],[384,37213],[395,35517],[404,34670],[414,32967],[424,31535],[435,30017],[444,28996],[455,28086],[465,27120],[475,26147],[485,24863],[495,24123],[505,23001],[515,22730],[525,22060],[535,21394],[545,20707],[555,19910],[564,19184],[575,18643],[585,18294],[595,17671],[605,17096],[615,16859],[624,16037],[634,15604],[645,14894],[655,14751],[663,14361],[674,13988],[685,13746],[695,13512],[704,13122],[715,12750],[725,12442],[734,12135],[745,12009],[755,11726],[764,11435],[775,11159],[784,10812],[795,10711],[805,10631],[814,10603],[825,10238],[834,10164],[845,9867],[855,9638],[865,9589],[875,9307],[884,9164],[894,8980],[904,8931],[914,9011],[925,8833],[934,8481],[945,8438],[955,8110],[965,8156],[974,8147],[984,7905],[995,7567]]},{"client":"tablet","date":"2023_03_01","navigationtype":"back forward","timestamp":"1677628800000","histogram":[[5,1339],[16,10650],[25,14545],[35,12913],[45,11238],[53,10071],[65,9156],[74,8596],[84,8306],[94,8126],[104,7945],[115,7750],[125,7682],[135,7665],[145,7453],[155,7478],[165,7550],[175,7484],[185,7568],[195,7587],[203,7587],[215,7859],[223,7518],[234,6802],[244,6250],[255,6009],[264,5965],[274,5891],[285,5821],[295,5649],[304,5698],[314,5723],[325,5700],[335,5957],[345,5893],[354,5716],[365,5809],[375,5734],[385,5556],[394,5320],[405,5355],[415,5145],[424,5154],[434,5036],[445,4924],[455,4726],[465,4630],[474,4557],[485,4297],[494,4263],[504,4199],[515,4056],[524,3788],[534,3819],[544,3601],[555,3491],[565,3468],[575,3375],[585,3350],[594,3154],[604,3038],[615,2958],[625,2847],[635,2880],[645,2806],[655,2681],[665,2581],[674,2532],[684,2532],[695,2527],[704,2381],[714,2489],[724,2330],[735,2284],[744,2279],[754,2175],[764,2167],[773,2168],[785,2111],[795,2067],[805,1987],[815,1985],[824,2010],[834,2010],[845,1940],[854,1917],[864,1828],[874,1855],[885,1796],[895,1789],[905,1678],[915,1790],[925,1684],[935,1645],[944,1659],[955,1631],[963,1647],[974,1617],[984,1585],[995,1579]]},{"client":"tablet","date":"2023_03_01","navigationtype":"navigate","timestamp":"1677628800000","histogram":[[3,2879],[15,5030],[25,12186],[35,27183],[46,45012],[55,59042],[65,70278],[75,78818],[84,85690],[94,90448],[104,92933],[115,99488],[124,101046],[134,101955],[144,101123],[155,99228],[165,99242],[175,98065],[185,96503],[195,94959],[204,92013],[215,90730],[224,87533],[235,83266],[245,79505],[255,75890],[264,73297],[274,70950],[285,68997],[296,66628],[304,64927],[315,64090],[324,62573],[335,61892],[345,60903],[355,59530],[364,58762],[375,57654],[385,56800],[395,55862],[404,54784],[414,54459],[424,53418],[436,52903],[445,51380],[455,51256],[464,49939],[474,49574],[484,48706],[495,48105],[505,46865],[516,46776],[524,46142],[535,45577],[544,44855],[555,43707],[564,43756],[575,42798],[585,42509],[594,41777],[605,41224],[615,40612],[625,40109],[636,38660],[644,38303],[654,38815],[665,37710],[674,37424],[686,36785],[695,36380],[704,35702],[715,35227],[724,34796],[734,34475],[744,33829],[755,33560],[766,32900],[774,32709],[785,32589],[796,32209],[805,31537],[814,31179],[824,30865],[835,30119],[844,30368],[853,29738],[865,29293],[875,29320],[883,28842],[895,28415],[905,27680],[914,27509],[926,27105],[936,26931],[945,26309],[955,26184],[965,26079],[974,25445],[984,25033],[995,24710]]},{"client":"tablet","date":"2023_03_01","navigationtype":"reload","timestamp":"1677628800000","histogram":[[7,23],[17,66],[25,386],[35,1549],[46,4112],[56,7069],[65,9523],[76,10464],[85,10382],[95,9636],[105,8463],[115,8163],[125,7463],[134,6958],[145,6543],[155,6208],[163,5928],[175,5545],[183,5514],[194,5082],[205,4930],[215,4686],[225,4589],[235,4191],[245,3938],[255,3763],[264,3618],[274,3402],[285,3275],[295,3164],[305,3176],[314,3058],[324,2984],[336,2919],[344,2832],[356,2808],[365,2762],[375,2678],[384,2605],[394,2507],[405,2446],[415,2324],[424,2272],[435,2271],[443,2090],[455,2094],[464,1978],[474,1962],[485,1916],[496,1864],[505,1830],[515,1697],[525,1727],[534,1644],[544,1660],[554,1669],[565,1609],[575,1530],[585,1505],[595,1479],[604,1514],[615,1518],[625,1406],[634,1437],[645,1427],[655,1361],[664,1402],[674,1277],[685,1320],[695,1400],[704,1380],[714,1266],[725,1288],[734,1383],[745,1269],[755,1300],[765,1292],[774,1223],[786,1280],[793,1224],[806,1192],[815,1223],[826,1218],[835,1220],[845,1162],[855,1192],[865,1178],[875,1217],[885,1168],[895,1138],[905,1123],[914,1139],[924,1093],[934,1110],[945,1037],[956,1016],[965,1060],[974,1042],[983,1017],[993,1065]]}];
    
      const date = "2023_03_01"; // TODO: make flexible by auto-selecting the "largest" date (by looking at timestamps)
      {
        let datapoints = rumarchiveData.filter( point => point.date == date );
        datapoints = datapoints.filter( point => point.client == "desktop" );

        options.chartId = "histogram1";
        options.name = "TTFB per navigation type (Desktop)";

        // bf, navigate, reload -> navigate, bf, reload
        // datapoints = [ datapoints[1], datapoints[0], datapoints[2] ];
        datapoints = [ datapoints[2], datapoints[0], datapoints[1] ];

        let series = [];
        for ( let [idx, serie] of datapoints.entries() ) {
          let newSerie = {
            name: serie.navigationtype,
            data: serie.histogram,
            color: piecolors[idx],
            index: idx
          };

          series.push( newSerie );
        }

        // stacking logic is in reverse order for some reason...
        series[0].index = 2;
        series[2].index = 0;

        {# series.filter( s => s.name == "navigate" )[0].index = 2;
        series.filter( s => s.name == "navigate" )[0].color = piecolors[0];
        series.filter( s => s.name == "reload" )[0].index = 0;
        series.filter( s => s.name == "reload" )[0].color = piecolors[2];
        series.filter( s => s.name == "back forward" )[0].index = 1;
        series.filter( s => s.name == "back forward" )[0].color = piecolors[1]; #}

        // series = [ series[1], series[2], series[0] ];

        options.series = series;

        Area.fromData( descriptionKey, options );
      }
    }

    async function renderVisibilitystateLCPHistogram()
    {
      try {
        const options = {};

        const descriptionKey = "visibilitystate";

        // let rumarchiveData = [{"client":"unknown","date":"2023_03_01","visibilitystate":"hidden","timestamp":"1677628800000","histogram":[[278,3],[352,15],[455,13],[562,24],[647,22],[753,16],[833,13],[946,12],[1029,4],[1148,3],[1241,2],[1327,1],[1487,3],[1591,1],[1662,2],[1793,1],[2061,2],[2377,4],[2484,1],[2546,3],[2663,3],[2819,3],[2955,1],[3181,1],[3235,2],[3373,2],[3491,1],[3589,2],[3613,1],[3826,2],[3970,2],[4037,4],[4107,1],[4342,3],[4498,1],[4656,3],[4700,1],[4852,3],[4985,2],[5037,2],[5152,5],[5254,3],[5368,2],[5441,1],[5551,3],[5664,2],[5751,1],[5983,1],[6174,3],[6241,1],[6352,2],[6496,1],[6569,2],[6663,1],[6768,3],[6859,2],[6971,1],[7073,3],[7164,4],[7280,1],[7526,1],[7730,2],[7858,1],[8046,1],[8338,2],[8697,1],[8753,1],[8896,1],[8942,2],[9070,1],[9151,1],[9243,1],[9384,2],[9539,1]]},{"client":"unknown","date":"2023_03_01","visibilitystate":"partial","timestamp":"1677628800000","histogram":[]},{"client":"unknown","date":"2023_03_01","visibilitystate":"visible","timestamp":"1677628800000","histogram":[[81,6],[174,12],[275,427],[362,2541],[451,4402],[544,3716],[645,2552],[745,1797],[852,1576],[948,1476],[1046,1310],[1150,1042],[1247,993],[1348,1127],[1454,1240],[1547,1443],[1650,1656],[1749,1552],[1847,1408],[1947,1256],[2047,1100],[2149,1003],[2249,890],[2353,879],[2445,821],[2547,812],[2649,808],[2750,726],[2849,778],[2949,693],[3049,612],[3153,644],[3252,633],[3349,572],[3447,539],[3552,545],[3646,489],[3752,455],[3850,487],[3950,435],[4051,442],[4150,425],[4252,456],[4348,417],[4446,417],[4551,421],[4647,364],[4747,372],[4853,333],[4954,340],[5049,291],[5150,267],[5248,245],[5352,231],[5450,254],[5550,225],[5647,199],[5753,186],[5848,185],[5953,190],[6051,175],[6144,166],[6246,152],[6348,164],[6449,146],[6546,113],[6655,133],[6746,130],[6851,115],[6956,93],[7046,103],[7148,110],[7251,91],[7349,77],[7452,73],[7552,75],[7651,70],[7745,58],[7855,64],[7952,48],[8056,49],[8148,61],[8251,60],[8352,45],[8448,61],[8556,40],[8652,44],[8753,45],[8849,47],[8943,37],[9050,38],[9148,35],[9248,25],[9346,26],[9433,25],[9545,45],[9662,22],[9755,35],[9844,37],[9940,26]]},{"client":"desktop","date":"2023_03_01","visibilitystate":"hidden","timestamp":"1677628800000","histogram":[[77,2011],[157,10299],[254,18224],[352,26887],[452,34740],[550,40572],[647,44419],[750,46505],[852,48318],[949,48666],[1053,47827],[1150,47410],[1249,44788],[1350,42668],[1451,40575],[1551,38420],[1647,36239],[1752,33972],[1849,31552],[1949,29746],[2052,27626],[2150,25892],[2253,24267],[2350,22613],[2447,21129],[2549,19502],[2648,18418],[2749,17209],[2849,16179],[2949,15218],[3050,14121],[3149,13403],[3249,12705],[3348,11990],[3452,11192],[3550,10850],[3651,10247],[3749,9788],[3849,9246],[3951,8968],[4049,8433],[4147,8065],[4248,7674],[4348,7232],[4451,6906],[4548,6465],[4649,6149],[4752,5926],[4851,5607],[4949,5321],[5047,5037],[5150,4755],[5250,4469],[5350,4327],[5447,4153],[5549,3883],[5651,3608],[5744,3528],[5846,3385],[5949,3294],[6050,3032],[6149,2858],[6247,2852],[6353,2750],[6449,2516],[6550,2482],[6651,2402],[6750,2260],[6852,2175],[6950,1985],[7050,1969],[7149,1900],[7247,1942],[7350,1722],[7452,1655],[7548,1637],[7648,1624],[7750,1549],[7852,1495],[7948,1434],[8051,1419],[8146,1363],[8251,1346],[8349,1262],[8451,1275],[8554,1218],[8653,1205],[8751,1144],[8849,1056],[8949,1056],[9052,1071],[9154,1038],[9249,959],[9350,1004],[9451,929],[9551,948],[9648,898],[9748,862],[9850,814],[9952,825]]},{"client":"desktop","date":"2023_03_01","visibilitystate":"partial","timestamp":"1677628800000","histogram":[[76,144],[154,760],[251,1259],[352,1745],[455,2254],[545,2788],[651,3113],[749,3545],[850,4005],[948,4211],[1050,4506],[1150,4819],[1248,4906],[1354,5046],[1448,4970],[1552,4800],[1646,4772],[1754,4755],[1853,4577],[1954,4522],[2048,4106],[2147,3938],[2248,3998],[2355,3872],[2452,3749],[2552,3492],[2647,3356],[2750,3455],[2853,3272],[2949,3119],[3047,3149],[3149,3021],[3254,2820],[3353,2634],[3449,2671],[3550,2624],[3648,2515],[3751,2448],[3851,2386],[3947,2266],[4049,2235],[4151,2256],[4252,2139],[4350,2037],[4450,1912],[4554,1850],[4649,1843],[4754,1670],[4847,1653],[4948,1646],[5051,1634],[5150,1504],[5247,1473],[5351,1437],[5449,1396],[5549,1283],[5650,1290],[5750,1281],[5850,1261],[5950,1091],[6056,1083],[6147,1064],[6240,1064],[6353,1027],[6444,1066],[6549,977],[6653,941],[6753,943],[6848,913],[6953,856],[7053,893],[7154,881],[7247,833],[7348,780],[7446,776],[7548,777],[7646,737],[7749,710],[7849,725],[7947,675],[8044,670],[8148,645],[8252,653],[8351,682],[8447,611],[8555,609],[8652,593],[8750,546],[8849,594],[8949,524],[9053,507],[9149,522],[9245,495],[9351,490],[9448,485],[9552,491],[9654,470],[9751,490],[9848,461],[9945,437]]},{"client":"desktop","date":"2023_03_01","visibilitystate":"visible","timestamp":"1677628800000","histogram":[[76,119122],[157,514538],[255,820519],[353,1131314],[451,1381378],[550,1544010],[648,1625256],[749,1647712],[848,1643858],[949,1617300],[1050,1573406],[1149,1514489],[1249,1446281],[1350,1369372],[1449,1293900],[1550,1218633],[1649,1140932],[1749,1065976],[1849,994163],[1948,925335],[2049,874467],[2148,809459],[2249,748729],[2349,694849],[2448,648305],[2548,601739],[2648,560566],[2748,525130],[2848,489382],[2947,457967],[3049,427926],[3148,401733],[3249,376941],[3349,353865],[3448,333119],[3547,313527],[3648,295652],[3748,277951],[3847,262300],[3950,247658],[4048,242613],[4148,224457],[4250,207786],[4350,194619],[4449,183191],[4548,171989],[4647,162424],[4750,153240],[4849,144890],[4949,137724],[5048,129820],[5150,122867],[5248,117514],[5350,110662],[5447,104803],[5551,100038],[5648,94705],[5750,89805],[5848,85941],[5948,81975],[6048,78206],[6149,73956],[6247,70930],[6349,68976],[6450,66132],[6550,63086],[6648,60514],[6750,58530],[6848,55721],[6951,52840],[7051,50711],[7150,49193],[7250,46809],[7350,45480],[7451,43346],[7550,41833],[7651,40139],[7746,38777],[7846,37388],[7949,36257],[8047,35222],[8148,34383],[8250,32975],[8350,32033],[8450,31120],[8551,29666],[8648,29087],[8751,28317],[8847,27271],[8950,26483],[9046,25437],[9148,24605],[9250,23672],[9350,22669],[9451,21818],[9546,21088],[9651,20522],[9751,19497],[9847,19281],[9947,18465]]},{"client":"mobile","date":"2023_03_01","visibilitystate":"hidden","timestamp":"1677628800000","histogram":[[85,2153],[150,15256],[260,30112],[352,44585],[448,52159],[549,53798],[648,52159],[748,48745],[848,46322],[952,42756],[1047,39615],[1146,36550],[1248,33111],[1349,30485],[1449,27695],[1547,25488],[1652,23496],[1751,21734],[1850,19639],[1947,18116],[2048,16998],[2147,15683],[2251,14515],[2348,13609],[2453,12840],[2549,12010],[2649,11267],[2753,10502],[2848,9775],[2951,9077],[3043,8592],[3149,8018],[3255,7616],[3349,7200],[3454,6835],[3552,6663],[3649,6153],[3749,5824],[3851,5594],[3950,5122],[4047,4987],[4150,4610],[4252,4376],[4349,4185],[4450,3902],[4549,3746],[4646,3508],[4751,3473],[4847,3314],[4945,3118],[5051,2789],[5149,2758],[5252,2711],[5345,2459],[5450,2328],[5554,2264],[5645,2212],[5748,2034],[5846,2002],[5950,1806],[6047,1797],[6151,1754],[6249,1671],[6351,1672],[6450,1571],[6552,1522],[6650,1412],[6753,1385],[6854,1377],[6950,1273],[7049,1199],[7151,1170],[7252,1072],[7346,1051],[7452,1054],[7549,934],[7646,899],[7749,856],[7852,853],[7949,884],[8050,806],[8151,740],[8254,750],[8348,702],[8448,697],[8552,654],[8651,671],[8746,665],[8852,658],[8952,572],[9048,574],[9148,549],[9256,532],[9352,515],[9451,544],[9548,491],[9650,511],[9750,477],[9854,495],[9950,506]]},{"client":"mobile","date":"2023_03_01","visibilitystate":"partial","timestamp":"1677628800000","histogram":[[85,505],[152,3378],[255,5453],[354,8026],[451,9206],[548,9133],[650,8400],[749,7548],[849,6768],[947,5894],[1052,5274],[1150,4673],[1251,4187],[1353,3783],[1446,3416],[1551,3087],[1649,2878],[1749,2564],[1846,2369],[1950,2298],[2050,2079],[2144,1955],[2249,1838],[2343,1607],[2449,1692],[2547,1516],[2650,1363],[2751,1351],[2851,1242],[2951,1263],[3055,1240],[3151,1156],[3245,1102],[3347,1062],[3449,1026],[3554,981],[3652,936],[3750,925],[3849,894],[3949,838],[4047,843],[4150,808],[4248,794],[4349,800],[4451,731],[4548,698],[4653,699],[4750,666],[4850,621],[4949,612],[5047,578],[5149,555],[5249,585],[5350,530],[5445,506],[5547,494],[5655,438],[5753,423],[5848,428],[5953,446],[6049,361],[6151,375],[6248,371],[6353,336],[6453,342],[6546,324],[6648,306],[6754,292],[6850,319],[6949,260],[7049,302],[7148,293],[7251,265],[7344,265],[7453,256],[7550,243],[7649,201],[7751,253],[7849,253],[7948,223],[8053,220],[8150,185],[8250,201],[8347,225],[8455,191],[8557,196],[8651,188],[8748,172],[8853,191],[8948,163],[9048,169],[9150,155],[9249,173],[9354,180],[9453,156],[9551,164],[9647,152],[9756,153],[9845,136],[9948,150]]},{"client":"mobile","date":"2023_03_01","visibilitystate":"visible","timestamp":"1677628800000","histogram":[[71,10905],[155,107601],[257,308555],[351,578801],[450,785065],[547,897928],[649,945480],[747,960636],[851,954558],[950,931451],[1047,895369],[1150,854822],[1248,810777],[1346,760264],[1451,717161],[1549,673652],[1648,634920],[1749,599835],[1850,568851],[1946,541749],[2048,518289],[2150,496357],[2248,474971],[2348,453407],[2450,432535],[2548,413740],[2647,394145],[2747,375851],[2849,358514],[2949,342019],[3049,326538],[3150,309499],[3252,294496],[3349,280279],[3449,266506],[3549,252920],[3649,241023],[3750,228459],[3849,217736],[3950,206879],[4049,196709],[4151,187479],[4252,177864],[4350,168798],[4448,160314],[4548,152383],[4651,144334],[4751,137853],[4848,130036],[4948,124217],[5048,117217],[5150,111847],[5249,105957],[5348,101010],[5448,95940],[5553,91216],[5652,87909],[5751,83722],[5848,79728],[5950,75903],[6048,72391],[6151,69779],[6251,66620],[6351,63651],[6450,60533],[6548,57636],[6651,55436],[6746,52818],[6851,50601],[6944,48148],[7047,46553],[7146,44178],[7248,42639],[7347,41031],[7448,39564],[7554,37759],[7652,36296],[7747,35053],[7846,33711],[7950,32552],[8046,31342],[8153,29954],[8249,29068],[8348,27696],[8446,26908],[8546,26183],[8646,25116],[8751,24117],[8847,23459],[8947,22387],[9049,21786],[9148,21133],[9249,20314],[9345,19937],[9448,19229],[9551,18463],[9651,18100],[9749,17344],[9846,16704],[9945,16315]]},{"client":"tablet","date":"2023_03_01","visibilitystate":"hidden","timestamp":"1677628800000","histogram":[[79,7],[174,25],[261,69],[351,140],[458,200],[552,315],[650,380],[750,499],[852,539],[953,645],[1050,693],[1151,774],[1246,770],[1355,827],[1453,851],[1550,857],[1649,828],[1752,827],[1850,830],[1948,826],[2050,740],[2150,744],[2249,716],[2347,699],[2451,626],[2549,595],[2650,579],[2746,488],[2852,484],[2947,437],[3045,453],[3148,453],[3247,384],[3347,409],[3447,383],[3553,343],[3649,332],[3747,325],[3851,301],[3949,312],[4047,264],[4155,267],[4247,259],[4348,268],[4447,219],[4549,236],[4651,196],[4747,202],[4851,191],[4949,183],[5049,184],[5153,179],[5247,159],[5349,179],[5450,153],[5550,166],[5652,131],[5753,136],[5851,136],[5948,137],[6048,121],[6148,116],[6250,113],[6352,105],[6451,101],[6547,103],[6653,97],[6751,84],[6847,83],[6948,84],[7042,82],[7142,75],[7249,76],[7351,62],[7445,75],[7551,72],[7647,64],[7752,59],[7844,54],[7953,66],[8040,55],[8153,44],[8256,59],[8351,48],[8450,53],[8552,39],[8649,34],[8759,35],[8842,46],[8948,35],[9040,36],[9147,36],[9256,28],[9355,32],[9439,34],[9560,32],[9652,31],[9756,37],[9854,39],[9943,26]]},{"client":"tablet","date":"2023_03_01","visibilitystate":"partial","timestamp":"1677628800000","histogram":[[281,5],[361,9],[459,11],[559,12],[668,6],[749,16],[846,10],[948,21],[1052,25],[1158,19],[1264,15],[1334,16],[1458,27],[1550,12],[1646,25],[1748,14],[1851,18],[1952,15],[2052,16],[2150,21],[2255,14],[2338,9],[2446,16],[2548,12],[2637,11],[2759,11],[2844,11],[2959,9],[3046,3],[3147,9],[3279,10],[3336,11],[3444,13],[3552,9],[3657,11],[3770,9],[3838,8],[3929,3],[4065,5],[4139,6],[4242,9],[4348,7],[4438,10],[4536,7],[4666,3],[4751,5],[4840,5],[4965,2],[5045,7],[5162,4],[5277,4],[5361,1],[5470,2],[5549,7],[5660,9],[5760,8],[5868,5],[5936,2],[6071,5],[6147,5],[6250,3],[6365,2],[6539,5],[6634,6],[6717,4],[6828,2],[6942,4],[7044,1],[7148,3],[7270,2],[7360,2],[7449,2],[7538,2],[7665,2],[7748,4],[7893,2],[7942,4],[8168,4],[8258,4],[8327,3],[8419,4],[8559,3],[8722,1],[8873,2],[8941,5],[9016,1],[9131,2],[9222,2],[9348,2],[9460,4],[9557,3],[9676,2],[9714,5],[9862,1],[9940,2]]},{"client":"tablet","date":"2023_03_01","visibilitystate":"visible","timestamp":"1677628800000","histogram":[[86,64],[157,992],[257,3019],[351,6655],[457,11448],[548,16181],[654,20349],[751,22727],[852,24007],[948,24881],[1049,25329],[1152,25493],[1251,25001],[1350,24593],[1449,23670],[1548,22953],[1648,21945],[1750,20974],[1850,19989],[1947,18844],[2048,18091],[2149,16816],[2250,16384],[2345,15239],[2448,14697],[2551,13779],[2652,13222],[2748,12566],[2854,12055],[2947,11533],[3050,11156],[3149,10314],[3243,9871],[3348,9478],[3448,9185],[3549,8737],[3648,8382],[3751,8117],[3851,7719],[3948,7278],[4054,6996],[4148,6627],[4243,6463],[4347,6217],[4449,5948],[4550,5654],[4649,5430],[4748,5153],[4848,4977],[4952,4780],[5051,4676],[5150,4379],[5245,4349],[5349,4173],[5451,3960],[5548,3807],[5658,3746],[5756,3617],[5848,3565],[5950,3360],[6050,3299],[6150,3177],[6251,3056],[6346,2971],[6447,2889],[6551,2738],[6654,2711],[6747,2641],[6850,2425],[6949,2536],[7052,2356],[7149,2270],[7251,2283],[7352,2083],[7445,1993],[7547,1958],[7650,1905],[7750,1817],[7848,1854],[7949,1787],[8051,1671],[8149,1665],[8249,1569],[8350,1623],[8454,1470],[8553,1451],[8654,1356],[8746,1347],[8853,1339],[8952,1259],[9048,1228],[9144,1218],[9251,1115],[9351,1169],[9445,1098],[9550,1114],[9650,1061],[9746,1086],[9854,1011],[9946,991]]}];

        let response = await fetch(DATA_BASE_URL + "LCP_visibilitystate_devicetype.json");
        let rumarchiveData = await response.json();

        const date = "2023_07_01"; // TODO: make flexible by auto-selecting the "largest" date in the data (by looking at timestamps)
        
        let datapoints = rumarchiveData.filter( point => point.date == date );
        datapoints = datapoints.filter( point => point.client == "desktop" );

        options.chartId = "histogram2";
        options.name = "LCP per visibility state (Desktop)";

        // hidden, partial, visible -> visible, hidden, partial
        // datapoints = [ datapoints[2], datapoints[0], datapoints[1] ];
        datapoints = [ datapoints[1], datapoints[0], datapoints[2] ];

        let series = [];
        for ( let [idx, serie] of datapoints.entries() ) {
          let newSerie = {
            name: serie.visibilitystate,
            data: serie.histogram,
            color: piecolors[idx],
            index: idx
          };

          series.push( newSerie );
        }

        // stacking logic is in reverse order for some reason...
        series[0].index = 2;
        series[2].index = 0;

        options.series = series;

        Area.fromData( descriptionKey, options );
      }
      catch(e) {
        console.error(e);
        return;
      }
    }

    renderVisibilitystateLCPHistogram();


      {
        const options = {};

        const descriptionKey = "navigationtype";
        const valueKey = "percent";
        let rumarchiveData = [{"client":"unknown","date":"2023_03_01","percent":"7.7","navigationtype":"back forward","timestamp":"1677628800000"},{"client":"unknown","date":"2023_03_01","percent":"88.8","navigationtype":"navigate","timestamp":"1677628800000"},{"client":"unknown","date":"2023_03_01","percent":"3.6","navigationtype":"reload","timestamp":"1677628800000"}];

        const date = "2023_03_01"; // TODO: make flexible by auto-selecting the "largest" date (by looking at timestamps)
        {
          let datapoints = rumarchiveData.filter( point => point.date == date );

          // want to assign colors based on contribution: largest part gets the primary color, 2nd largest secondary color, etc.
          datapoints = datapoints.sort((a, b) => { return parseFloat(b[valueKey]) - parseFloat(a[valueKey]) } ); // desc sort
          datapoints = datapoints.map( (val, idx) => { val.color = piecolors[idx]; return val; } );

          options.chartId = "donut00";
          options.name = "Navigation types";
          options.datapoints = datapoints;
          options.datapointFieldname = valueKey;

          Donuts.fromData( descriptionKey, options );
        }
      }

      {
        const options = {};

        const descriptionKey = "visibilitystate";
        const valueKey = "percent";
        let rumarchiveData = [{"client":"unknown","date":"2023_03_01","percent":"9.7","visibilitystate":"hidden","timestamp":"1677628800000"},{"client":"unknown","date":"2023_03_01","percent":"0.3","visibilitystate":"partial","timestamp":"1677628800000"},{"client":"unknown","date":"2023_03_01","percent":"90.0","visibilitystate":"visible","timestamp":"1677628800000"}];

        const date = "2023_03_01"; // TODO: make flexible by auto-selecting the "largest" date (by looking at timestamps)
        {
          let datapoints = rumarchiveData.filter( point => point.date == date );

          // want to assign colors based on contribution: largest part gets the primary color, 2nd largest secondary color, etc.
          datapoints = datapoints.sort((a, b) => { return parseFloat(b[valueKey]) - parseFloat(a[valueKey]) } ); // desc sort
          datapoints = datapoints.map( (val, idx) => { val.color = piecolors[idx]; return val; } );

          options.chartId = "donut01";
          options.name = "Visibility states";
          options.datapoints = datapoints;
          options.datapointFieldname = valueKey;

          Donuts.fromData( descriptionKey, options );
        }
      }

      {
        const options = {};

        const descriptionKey = "landingpage";
        const valueKey = "percent";
        let rumarchiveData = [{"client":"unknown","date":"2023_03_01","percent":"75.8","landingpage":false,"timestamp":"1677628800000"},{"client":"unknown","date":"2023_03_01","percent":"24.2","landingpage":true,"timestamp":"1677628800000"}];

        const date = "2023_03_01"; // TODO: make flexible by auto-selecting the "largest" date (by looking at timestamps)
        {
          let datapoints = rumarchiveData.filter( point => point.date == date );

          // want to assign colors based on contribution: largest part gets the primary color, 2nd largest secondary color, etc.
          datapoints = datapoints.sort((a, b) => { return parseFloat(b[valueKey]) - parseFloat(a[valueKey]) } ); // desc sort
          datapoints = datapoints.map( (val, idx) => { val.color = piecolors[idx]; return val; } );

          options.chartId = "donut02";
          options.name = "Landing page";
          options.datapoints = datapoints;
          options.datapointFieldname = valueKey;

          Donuts.fromData( descriptionKey, options );
        }
      }

    {
        const options = {};

        const descriptionKey = "navigationtype";
        const valueKey = "percent";
        let rumarchiveData = [{"client":"unknown","date":"2021_10_01","percent":"19.3","navigationtype":"back forward","timestamp":"1633046400000"},{"client":"unknown","date":"2021_10_01","percent":"78.8","navigationtype":"navigate","timestamp":"1633046400000"},{"client":"unknown","date":"2021_10_01","percent":"1.9","navigationtype":"reload","timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"7.6","navigationtype":"back forward","timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"88.9","navigationtype":"navigate","timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"3.6","navigationtype":"reload","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"10.8","navigationtype":"back forward","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"86.4","navigationtype":"navigate","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"2.7","navigationtype":"reload","timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"10.1","navigationtype":"back forward","timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"87.0","navigationtype":"navigate","timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"2.9","navigationtype":"reload","timestamp":"1633046400000"},{"client":"unknown","date":"2021_11_01","percent":"22.5","navigationtype":"back forward","timestamp":"1635724800000"},{"client":"unknown","date":"2021_11_01","percent":"75.6","navigationtype":"navigate","timestamp":"1635724800000"},{"client":"unknown","date":"2021_11_01","percent":"1.9","navigationtype":"reload","timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"7.8","navigationtype":"back forward","timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"88.9","navigationtype":"navigate","timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"3.3","navigationtype":"reload","timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"11.5","navigationtype":"back forward","timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"85.5","navigationtype":"navigate","timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"3.0","navigationtype":"reload","timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"10.6","navigationtype":"back forward","timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"86.1","navigationtype":"navigate","timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"3.3","navigationtype":"reload","timestamp":"1635724800000"},{"client":"unknown","date":"2021_12_01","percent":"22.2","navigationtype":"back forward","timestamp":"1638316800000"},{"client":"unknown","date":"2021_12_01","percent":"74.7","navigationtype":"navigate","timestamp":"1638316800000"},{"client":"unknown","date":"2021_12_01","percent":"3.1","navigationtype":"reload","timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"7.7","navigationtype":"back forward","timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"88.6","navigationtype":"navigate","timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"3.7","navigationtype":"reload","timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"11.8","navigationtype":"back forward","timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"85.2","navigationtype":"navigate","timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"3.0","navigationtype":"reload","timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"10.3","navigationtype":"back forward","timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"86.3","navigationtype":"navigate","timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"3.4","navigationtype":"reload","timestamp":"1638316800000"},{"client":"unknown","date":"2022_01_01","percent":"18.7","navigationtype":"back forward","timestamp":"1640995200000"},{"client":"unknown","date":"2022_01_01","percent":"79.5","navigationtype":"navigate","timestamp":"1640995200000"},{"client":"unknown","date":"2022_01_01","percent":"1.9","navigationtype":"reload","timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"8.5","navigationtype":"back forward","timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"88.1","navigationtype":"navigate","timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"3.4","navigationtype":"reload","timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"11.4","navigationtype":"back forward","timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"85.1","navigationtype":"navigate","timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"3.5","navigationtype":"reload","timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"10.0","navigationtype":"back forward","timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"86.7","navigationtype":"navigate","timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"3.3","navigationtype":"reload","timestamp":"1640995200000"},{"client":"unknown","date":"2022_02_01","percent":"19.3","navigationtype":"back forward","timestamp":"1643673600000"},{"client":"unknown","date":"2022_02_01","percent":"78.7","navigationtype":"navigate","timestamp":"1643673600000"},{"client":"unknown","date":"2022_02_01","percent":"1.9","navigationtype":"reload","timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"7.1","navigationtype":"back forward","timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"88.1","navigationtype":"navigate","timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"4.8","navigationtype":"reload","timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"10.9","navigationtype":"back forward","timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"85.8","navigationtype":"navigate","timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"3.3","navigationtype":"reload","timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"9.1","navigationtype":"back forward","timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"86.8","navigationtype":"navigate","timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"4.1","navigationtype":"reload","timestamp":"1643673600000"},{"client":"unknown","date":"2022_03_01","percent":"18.4","navigationtype":"back forward","timestamp":"1646092800000"},{"client":"unknown","date":"2022_03_01","percent":"79.6","navigationtype":"navigate","timestamp":"1646092800000"},{"client":"unknown","date":"2022_03_01","percent":"1.9","navigationtype":"reload","timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"7.3","navigationtype":"back forward","timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"89.5","navigationtype":"navigate","timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"3.2","navigationtype":"reload","timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"10.0","navigationtype":"back forward","timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"86.8","navigationtype":"navigate","timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"3.2","navigationtype":"reload","timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"9.6","navigationtype":"back forward","timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"86.9","navigationtype":"navigate","timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"3.5","navigationtype":"reload","timestamp":"1646092800000"},{"client":"unknown","date":"2022_04_01","percent":"9.1","navigationtype":"back forward","timestamp":"1648771200000"},{"client":"unknown","date":"2022_04_01","percent":"89.7","navigationtype":"navigate","timestamp":"1648771200000"},{"client":"unknown","date":"2022_04_01","percent":"1.2","navigationtype":"reload","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"7.4","navigationtype":"back forward","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"87.9","navigationtype":"navigate","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"4.7","navigationtype":"reload","timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"10.6","navigationtype":"back forward","timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"86.4","navigationtype":"navigate","timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"3.0","navigationtype":"reload","timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"9.5","navigationtype":"back forward","timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"87.1","navigationtype":"navigate","timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"3.5","navigationtype":"reload","timestamp":"1648771200000"},{"client":"unknown","date":"2022_05_01","percent":"9.6","navigationtype":"back forward","timestamp":"1651363200000"},{"client":"unknown","date":"2022_05_01","percent":"89.1","navigationtype":"navigate","timestamp":"1651363200000"},{"client":"unknown","date":"2022_05_01","percent":"1.3","navigationtype":"reload","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"8.3","navigationtype":"back forward","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"86.5","navigationtype":"navigate","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"5.2","navigationtype":"reload","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"10.3","navigationtype":"back forward","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"86.9","navigationtype":"navigate","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"2.9","navigationtype":"reload","timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"9.2","navigationtype":"back forward","timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"87.5","navigationtype":"navigate","timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"3.3","navigationtype":"reload","timestamp":"1651363200000"},{"client":"unknown","date":"2022_06_01","percent":"11.6","navigationtype":"back forward","timestamp":"1654041600000"},{"client":"unknown","date":"2022_06_01","percent":"86.5","navigationtype":"navigate","timestamp":"1654041600000"},{"client":"unknown","date":"2022_06_01","percent":"1.9","navigationtype":"reload","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"6.7","navigationtype":"back forward","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"88.5","navigationtype":"navigate","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"4.7","navigationtype":"reload","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"9.9","navigationtype":"back forward","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"87.0","navigationtype":"navigate","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"3.0","navigationtype":"reload","timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"8.8","navigationtype":"back forward","timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"87.9","navigationtype":"navigate","timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"3.3","navigationtype":"reload","timestamp":"1654041600000"},{"client":"unknown","date":"2022_07_01","percent":"6.7","navigationtype":"back forward","timestamp":"1656633600000"},{"client":"unknown","date":"2022_07_01","percent":"92.1","navigationtype":"navigate","timestamp":"1656633600000"},{"client":"unknown","date":"2022_07_01","percent":"1.2","navigationtype":"reload","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"6.9","navigationtype":"back forward","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"88.1","navigationtype":"navigate","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"5.0","navigationtype":"reload","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"9.6","navigationtype":"back forward","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"86.9","navigationtype":"navigate","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"3.5","navigationtype":"reload","timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"9.1","navigationtype":"back forward","timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"87.2","navigationtype":"navigate","timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"3.6","navigationtype":"reload","timestamp":"1656633600000"},{"client":"unknown","date":"2022_08_01","percent":"9.5","navigationtype":"back forward","timestamp":"1659312000000"},{"client":"unknown","date":"2022_08_01","percent":"86.7","navigationtype":"navigate","timestamp":"1659312000000"},{"client":"unknown","date":"2022_08_01","percent":"3.8","navigationtype":"reload","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"6.7","navigationtype":"back forward","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"86.6","navigationtype":"navigate","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"6.7","navigationtype":"reload","timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"9.4","navigationtype":"back forward","timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"87.0","navigationtype":"navigate","timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"3.6","navigationtype":"reload","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"8.7","navigationtype":"back forward","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"87.5","navigationtype":"navigate","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"3.9","navigationtype":"reload","timestamp":"1659312000000"},{"client":"unknown","date":"2022_09_01","percent":"5.8","navigationtype":"back forward","timestamp":"1661990400000"},{"client":"unknown","date":"2022_09_01","percent":"93.3","navigationtype":"navigate","timestamp":"1661990400000"},{"client":"unknown","date":"2022_09_01","percent":"0.9","navigationtype":"reload","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"6.3","navigationtype":"back forward","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"87.2","navigationtype":"navigate","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"6.4","navigationtype":"reload","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"8.7","navigationtype":"back forward","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"87.7","navigationtype":"navigate","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"3.6","navigationtype":"reload","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"8.2","navigationtype":"back forward","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"87.9","navigationtype":"navigate","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"3.9","navigationtype":"reload","timestamp":"1661990400000"},{"client":"unknown","date":"2022_10_01","percent":"11.7","navigationtype":"back forward","timestamp":"1664582400000"},{"client":"unknown","date":"2022_10_01","percent":"85.9","navigationtype":"navigate","timestamp":"1664582400000"},{"client":"unknown","date":"2022_10_01","percent":"2.4","navigationtype":"reload","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"7.5","navigationtype":"back forward","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"86.9","navigationtype":"navigate","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"5.6","navigationtype":"reload","timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"8.7","navigationtype":"back forward","timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"87.2","navigationtype":"navigate","timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"4.1","navigationtype":"reload","timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"7.9","navigationtype":"back forward","timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"88.0","navigationtype":"navigate","timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"4.1","navigationtype":"reload","timestamp":"1664582400000"},{"client":"unknown","date":"2022_11_01","percent":"18.5","navigationtype":"back forward","timestamp":"1667260800000"},{"client":"unknown","date":"2022_11_01","percent":"80.1","navigationtype":"navigate","timestamp":"1667260800000"},{"client":"unknown","date":"2022_11_01","percent":"1.3","navigationtype":"reload","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"6.1","navigationtype":"back forward","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"89.8","navigationtype":"navigate","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"4.1","navigationtype":"reload","timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"8.3","navigationtype":"back forward","timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"88.4","navigationtype":"navigate","timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"3.3","navigationtype":"reload","timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"7.3","navigationtype":"back forward","timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"89.0","navigationtype":"navigate","timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"3.7","navigationtype":"reload","timestamp":"1667260800000"},{"client":"unknown","date":"2022_12_01","percent":"7.2","navigationtype":"back forward","timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"85.8","navigationtype":"navigate","timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"7.0","navigationtype":"reload","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"6.2","navigationtype":"back forward","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"89.7","navigationtype":"navigate","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"4.1","navigationtype":"reload","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"8.0","navigationtype":"back forward","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"88.6","navigationtype":"navigate","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"3.4","navigationtype":"reload","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"7.4","navigationtype":"back forward","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"88.9","navigationtype":"navigate","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"3.7","navigationtype":"reload","timestamp":"1669852800000"},{"client":"unknown","date":"2023_01_01","percent":"19.9","navigationtype":"back forward","timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"78.7","navigationtype":"navigate","timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"1.4","navigationtype":"reload","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"7.5","navigationtype":"back forward","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"89.5","navigationtype":"navigate","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"2.9","navigationtype":"reload","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"8.8","navigationtype":"back forward","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"87.9","navigationtype":"navigate","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"3.3","navigationtype":"reload","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"7.9","navigationtype":"back forward","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"88.6","navigationtype":"navigate","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"3.5","navigationtype":"reload","timestamp":"1672531200000"},{"client":"unknown","date":"2023_02_01","percent":"19.7","navigationtype":"back forward","timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"73.5","navigationtype":"navigate","timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"6.8","navigationtype":"reload","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"6.3","navigationtype":"back forward","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"89.2","navigationtype":"navigate","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"4.4","navigationtype":"reload","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"8.3","navigationtype":"back forward","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"88.3","navigationtype":"navigate","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"3.4","navigationtype":"reload","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"7.4","navigationtype":"back forward","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"88.5","navigationtype":"navigate","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"4.1","navigationtype":"reload","timestamp":"1675209600000"}]
        
        const date = "2023_02_01"; // TODO: make flexible by auto-selecting the "largest" date (by looking at timestamps)
        {
          let datapoints = rumarchiveData.filter( point => point.date == date );
          datapoints = datapoints.filter( point => point.client == "desktop" );

          // want to assign colors based on contribution: largest part gets the primary color, 2nd largest secondary color, etc.
          datapoints = datapoints.sort((a, b) => { return parseFloat(b[valueKey]) - parseFloat(a[valueKey]) } ); // desc sort
          datapoints = datapoints.map( (val, idx) => { val.color = piecolors[idx]; return val; } );

          options.chartId = "donut0";
          options.name = "Navigation types on Desktop";
          options.datapoints = datapoints;
          options.datapointFieldname = valueKey;

          Donuts.fromData( descriptionKey, options );
        }
        {
          let datapoints = rumarchiveData.filter( point => point.date == date );
          datapoints = datapoints.filter( point => point.client == "mobile" );

          // want to assign colors based on contribution: largest part gets the primary color, 2nd largest secondary color, etc.
          datapoints = datapoints.sort((a, b) => { return parseFloat(b[valueKey]) - parseFloat(a[valueKey]) } ); // desc sort
          datapoints = datapoints.map( (val, idx) => { val.color = piecolors[idx]; return val; } );

          options.chartId = "donut1";
          options.name = "Navigation types on Mobile";
          options.datapoints = datapoints;
          options.datapointFieldname = valueKey;

          Donuts.fromData( descriptionKey, options );
        }
    }

    {
        const options = {};

        const descriptionKey = "visibilitystate";
        const valueKey = "percent";
        let rumarchiveData = [{"client":"unknown","date":"2021_10_01","percent":"3.7","visibilitystate":"hidden","timestamp":"1633046400000"},{"client":"unknown","date":"2021_10_01","percent":"0.3","visibilitystate":"partial","timestamp":"1633046400000"},{"client":"unknown","date":"2021_10_01","percent":"96.0","visibilitystate":"visible","timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"7.2","visibilitystate":"hidden","timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"0.7","visibilitystate":"partial","timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"92.1","visibilitystate":"visible","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"6.4","visibilitystate":"hidden","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"0.3","visibilitystate":"partial","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"93.3","visibilitystate":"visible","timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"4.7","visibilitystate":"hidden","timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"0.1","visibilitystate":"partial","timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"95.2","visibilitystate":"visible","timestamp":"1633046400000"},{"client":"unknown","date":"2021_11_01","percent":"1.4","visibilitystate":"hidden","timestamp":"1635724800000"},{"client":"unknown","date":"2021_11_01","percent":"0.3","visibilitystate":"partial","timestamp":"1635724800000"},{"client":"unknown","date":"2021_11_01","percent":"98.3","visibilitystate":"visible","timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"7.3","visibilitystate":"hidden","timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"0.5","visibilitystate":"partial","timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"92.2","visibilitystate":"visible","timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"6.2","visibilitystate":"hidden","timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"0.2","visibilitystate":"partial","timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"93.6","visibilitystate":"visible","timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"4.3","visibilitystate":"hidden","timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"0.1","visibilitystate":"partial","timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"95.5","visibilitystate":"visible","timestamp":"1635724800000"},{"client":"unknown","date":"2021_12_01","percent":"0.9","visibilitystate":"hidden","timestamp":"1638316800000"},{"client":"unknown","date":"2021_12_01","percent":"0.3","visibilitystate":"partial","timestamp":"1638316800000"},{"client":"unknown","date":"2021_12_01","percent":"98.8","visibilitystate":"visible","timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"6.7","visibilitystate":"hidden","timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"0.4","visibilitystate":"partial","timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"92.8","visibilitystate":"visible","timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"6.0","visibilitystate":"hidden","timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"0.3","visibilitystate":"partial","timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"93.7","visibilitystate":"visible","timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"4.6","visibilitystate":"hidden","timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"0.1","visibilitystate":"partial","timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"95.3","visibilitystate":"visible","timestamp":"1638316800000"},{"client":"unknown","date":"2022_01_01","percent":"0.8","visibilitystate":"hidden","timestamp":"1640995200000"},{"client":"unknown","date":"2022_01_01","percent":"0.3","visibilitystate":"partial","timestamp":"1640995200000"},{"client":"unknown","date":"2022_01_01","percent":"98.9","visibilitystate":"visible","timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"6.1","visibilitystate":"hidden","timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"0.3","visibilitystate":"partial","timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"93.5","visibilitystate":"visible","timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"6.0","visibilitystate":"hidden","timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"0.2","visibilitystate":"partial","timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"93.8","visibilitystate":"visible","timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"4.6","visibilitystate":"hidden","timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"0.1","visibilitystate":"partial","timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"95.3","visibilitystate":"visible","timestamp":"1640995200000"},{"client":"unknown","date":"2022_02_01","percent":"1.4","visibilitystate":"hidden","timestamp":"1643673600000"},{"client":"unknown","date":"2022_02_01","percent":"0.3","visibilitystate":"partial","timestamp":"1643673600000"},{"client":"unknown","date":"2022_02_01","percent":"98.3","visibilitystate":"visible","timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"7.6","visibilitystate":"hidden","timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"0.4","visibilitystate":"partial","timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"92.0","visibilitystate":"visible","timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"6.6","visibilitystate":"hidden","timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"0.3","visibilitystate":"partial","timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"93.1","visibilitystate":"visible","timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"4.8","visibilitystate":"hidden","timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"0.1","visibilitystate":"partial","timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"95.1","visibilitystate":"visible","timestamp":"1643673600000"},{"client":"unknown","date":"2022_03_01","percent":"0.8","visibilitystate":"hidden","timestamp":"1646092800000"},{"client":"unknown","date":"2022_03_01","percent":"0.2","visibilitystate":"partial","timestamp":"1646092800000"},{"client":"unknown","date":"2022_03_01","percent":"99.0","visibilitystate":"visible","timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"6.7","visibilitystate":"hidden","timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"0.5","visibilitystate":"partial","timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"92.9","visibilitystate":"visible","timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"6.2","visibilitystate":"hidden","timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"0.2","visibilitystate":"partial","timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"93.6","visibilitystate":"visible","timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"4.6","visibilitystate":"hidden","timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"0.1","visibilitystate":"partial","timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"95.3","visibilitystate":"visible","timestamp":"1646092800000"},{"client":"unknown","date":"2022_04_01","percent":"2.3","visibilitystate":"hidden","timestamp":"1648771200000"},{"client":"unknown","date":"2022_04_01","percent":"0.5","visibilitystate":"partial","timestamp":"1648771200000"},{"client":"unknown","date":"2022_04_01","percent":"97.1","visibilitystate":"visible","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"7.1","visibilitystate":"hidden","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"0.4","visibilitystate":"partial","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"92.4","visibilitystate":"visible","timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"7.0","visibilitystate":"hidden","timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"0.3","visibilitystate":"partial","timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"92.7","visibilitystate":"visible","timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"5.0","visibilitystate":"hidden","timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"0.1","visibilitystate":"partial","timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"94.9","visibilitystate":"visible","timestamp":"1648771200000"},{"client":"unknown","date":"2022_05_01","percent":"3.3","visibilitystate":"hidden","timestamp":"1651363200000"},{"client":"unknown","date":"2022_05_01","percent":"0.7","visibilitystate":"partial","timestamp":"1651363200000"},{"client":"unknown","date":"2022_05_01","percent":"96.0","visibilitystate":"visible","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"7.0","visibilitystate":"hidden","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"0.3","visibilitystate":"partial","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"92.7","visibilitystate":"visible","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"6.1","visibilitystate":"hidden","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"0.2","visibilitystate":"partial","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"93.7","visibilitystate":"visible","timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"4.5","visibilitystate":"hidden","timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"0.1","visibilitystate":"partial","timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"95.4","visibilitystate":"visible","timestamp":"1651363200000"},{"client":"unknown","date":"2022_06_01","percent":"3.2","visibilitystate":"hidden","timestamp":"1654041600000"},{"client":"unknown","date":"2022_06_01","percent":"0.6","visibilitystate":"partial","timestamp":"1654041600000"},{"client":"unknown","date":"2022_06_01","percent":"96.1","visibilitystate":"visible","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"7.2","visibilitystate":"hidden","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"0.5","visibilitystate":"partial","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"92.3","visibilitystate":"visible","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"7.0","visibilitystate":"hidden","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"0.3","visibilitystate":"partial","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"92.6","visibilitystate":"visible","timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"5.2","visibilitystate":"hidden","timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"0.2","visibilitystate":"partial","timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"94.6","visibilitystate":"visible","timestamp":"1654041600000"},{"client":"unknown","date":"2022_07_01","percent":"2.4","visibilitystate":"hidden","timestamp":"1656633600000"},{"client":"unknown","date":"2022_07_01","percent":"0.5","visibilitystate":"partial","timestamp":"1656633600000"},{"client":"unknown","date":"2022_07_01","percent":"97.1","visibilitystate":"visible","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"7.4","visibilitystate":"hidden","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"0.4","visibilitystate":"partial","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"92.2","visibilitystate":"visible","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"9.5","visibilitystate":"hidden","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"0.3","visibilitystate":"partial","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"90.2","visibilitystate":"visible","timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"5.1","visibilitystate":"hidden","timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"0.1","visibilitystate":"partial","timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"94.8","visibilitystate":"visible","timestamp":"1656633600000"},{"client":"unknown","date":"2022_08_01","percent":"3.2","visibilitystate":"hidden","timestamp":"1659312000000"},{"client":"unknown","date":"2022_08_01","percent":"0.8","visibilitystate":"partial","timestamp":"1659312000000"},{"client":"unknown","date":"2022_08_01","percent":"96.0","visibilitystate":"visible","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"9.4","visibilitystate":"hidden","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"0.4","visibilitystate":"partial","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"90.2","visibilitystate":"visible","timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"10.3","visibilitystate":"hidden","timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"0.3","visibilitystate":"partial","timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"89.4","visibilitystate":"visible","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"5.4","visibilitystate":"hidden","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"0.1","visibilitystate":"partial","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"94.4","visibilitystate":"visible","timestamp":"1659312000000"},{"client":"unknown","date":"2022_09_01","percent":"2.2","visibilitystate":"hidden","timestamp":"1661990400000"},{"client":"unknown","date":"2022_09_01","percent":"0.3","visibilitystate":"partial","timestamp":"1661990400000"},{"client":"unknown","date":"2022_09_01","percent":"97.5","visibilitystate":"visible","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"8.7","visibilitystate":"hidden","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"0.4","visibilitystate":"partial","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"91.0","visibilitystate":"visible","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"12.2","visibilitystate":"hidden","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"0.3","visibilitystate":"partial","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"87.5","visibilitystate":"visible","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"6.0","visibilitystate":"hidden","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"0.1","visibilitystate":"partial","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"93.9","visibilitystate":"visible","timestamp":"1661990400000"},{"client":"unknown","date":"2022_10_01","percent":"3.0","visibilitystate":"hidden","timestamp":"1664582400000"},{"client":"unknown","date":"2022_10_01","percent":"0.6","visibilitystate":"partial","timestamp":"1664582400000"},{"client":"unknown","date":"2022_10_01","percent":"96.4","visibilitystate":"visible","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"6.7","visibilitystate":"hidden","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"0.3","visibilitystate":"partial","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"93.0","visibilitystate":"visible","timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"11.0","visibilitystate":"hidden","timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"0.3","visibilitystate":"partial","timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"88.7","visibilitystate":"visible","timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"5.5","visibilitystate":"hidden","timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"0.1","visibilitystate":"partial","timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"94.4","visibilitystate":"visible","timestamp":"1664582400000"},{"client":"unknown","date":"2022_11_01","percent":"2.6","visibilitystate":"hidden","timestamp":"1667260800000"},{"client":"unknown","date":"2022_11_01","percent":"0.9","visibilitystate":"partial","timestamp":"1667260800000"},{"client":"unknown","date":"2022_11_01","percent":"96.5","visibilitystate":"visible","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"6.3","visibilitystate":"hidden","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"0.4","visibilitystate":"partial","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"93.3","visibilitystate":"visible","timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"11.6","visibilitystate":"hidden","timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"0.3","visibilitystate":"partial","timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"88.1","visibilitystate":"visible","timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"5.9","visibilitystate":"hidden","timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"0.1","visibilitystate":"partial","timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"94.0","visibilitystate":"visible","timestamp":"1667260800000"},{"client":"unknown","date":"2022_12_01","percent":"1.0","visibilitystate":"hidden","timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"0.2","visibilitystate":"partial","timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"98.8","visibilitystate":"visible","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"6.5","visibilitystate":"hidden","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.3","visibilitystate":"partial","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"93.2","visibilitystate":"visible","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"11.7","visibilitystate":"hidden","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"0.3","visibilitystate":"partial","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"88.1","visibilitystate":"visible","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"6.2","visibilitystate":"hidden","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"0.1","visibilitystate":"partial","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"93.7","visibilitystate":"visible","timestamp":"1669852800000"},{"client":"unknown","date":"2023_01_01","percent":"2.2","visibilitystate":"hidden","timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"0.5","visibilitystate":"partial","timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"97.3","visibilitystate":"visible","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"5.9","visibilitystate":"hidden","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"0.3","visibilitystate":"partial","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"93.9","visibilitystate":"visible","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"11.1","visibilitystate":"hidden","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"0.3","visibilitystate":"partial","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"88.7","visibilitystate":"visible","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"5.6","visibilitystate":"hidden","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"0.1","visibilitystate":"partial","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"94.3","visibilitystate":"visible","timestamp":"1672531200000"},{"client":"unknown","date":"2023_02_01","percent":"4.0","visibilitystate":"hidden","timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"0.4","visibilitystate":"partial","timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"95.6","visibilitystate":"visible","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"6.5","visibilitystate":"hidden","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"0.3","visibilitystate":"partial","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"93.2","visibilitystate":"visible","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"11.6","visibilitystate":"hidden","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"0.3","visibilitystate":"partial","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"88.0","visibilitystate":"visible","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"5.9","visibilitystate":"hidden","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"0.1","visibilitystate":"partial","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"93.9","visibilitystate":"visible","timestamp":"1675209600000"}]

        const date = "2023_02_01"; // TODO: make flexible by auto-selecting the "largest" date (by looking at timestamps)
        {
          let datapoints = rumarchiveData.filter( point => point.date == date );
          datapoints = datapoints.filter( point => point.client == "desktop" );

          // want to assign colors based on contribution: largest part gets the primary color, 2nd largest secondary color, etc.
          datapoints = datapoints.sort((a, b) => { return parseFloat(b[valueKey]) - parseFloat(a[valueKey]) } ); // desc sort
          datapoints = datapoints.map( (val, idx) => { val.color = piecolors[idx]; return val; } );

          options.chartId = "donut2";
          options.name = "Visibility states on Desktop";
          options.datapoints = datapoints;
          options.datapointFieldname = valueKey;

          Donuts.fromData( descriptionKey, options );
        }
        {
          let datapoints = rumarchiveData.filter( point => point.date == date );
          datapoints = datapoints.filter( point => point.client == "mobile" );

          // want to assign colors based on contribution: largest part gets the primary color, 2nd largest secondary color, etc.
          datapoints = datapoints.sort((a, b) => { return parseFloat(b[valueKey]) - parseFloat(a[valueKey]) } ); // desc sort
          datapoints = datapoints.map( (val, idx) => { val.color = piecolors[idx]; return val; } );

          options.chartId = "donut3";
          options.name = "Visibility states on Mobile";
          options.datapoints = datapoints;
          options.datapointFieldname = valueKey;

          Donuts.fromData( descriptionKey, options );
        }
    }

    {
        const options = {};

        const descriptionKey = "landingpage";
        const valueKey = "percent";
        let rumarchiveData = [{"client":"unknown","date":"2021_10_01","percent":"44.2","landingpage":false,"timestamp":"1633046400000"},{"client":"unknown","date":"2021_10_01","percent":"55.8","landingpage":true,"timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"79.7","landingpage":false,"timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"20.3","landingpage":true,"timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"75.1","landingpage":false,"timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"24.9","landingpage":true,"timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"77.8","landingpage":false,"timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"22.2","landingpage":true,"timestamp":"1633046400000"},{"client":"unknown","date":"2021_11_01","percent":"49.5","landingpage":false,"timestamp":"1635724800000"},{"client":"unknown","date":"2021_11_01","percent":"50.5","landingpage":true,"timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"79.3","landingpage":false,"timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"20.7","landingpage":true,"timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"76.8","landingpage":false,"timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"23.2","landingpage":true,"timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"79.7","landingpage":false,"timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"20.3","landingpage":true,"timestamp":"1635724800000"},{"client":"unknown","date":"2021_12_01","percent":"48.1","landingpage":false,"timestamp":"1638316800000"},{"client":"unknown","date":"2021_12_01","percent":"51.9","landingpage":true,"timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"80.6","landingpage":false,"timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"19.4","landingpage":true,"timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"76.7","landingpage":false,"timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"23.3","landingpage":true,"timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"79.1","landingpage":false,"timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"20.9","landingpage":true,"timestamp":"1638316800000"},{"client":"unknown","date":"2022_01_01","percent":"50.4","landingpage":false,"timestamp":"1640995200000"},{"client":"unknown","date":"2022_01_01","percent":"49.6","landingpage":true,"timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"80.0","landingpage":false,"timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"20.0","landingpage":true,"timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"77.4","landingpage":false,"timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"22.6","landingpage":true,"timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"78.7","landingpage":false,"timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"21.3","landingpage":true,"timestamp":"1640995200000"},{"client":"unknown","date":"2022_02_01","percent":"44.9","landingpage":false,"timestamp":"1643673600000"},{"client":"unknown","date":"2022_02_01","percent":"55.1","landingpage":true,"timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"79.4","landingpage":false,"timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"20.6","landingpage":true,"timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"76.1","landingpage":false,"timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"23.9","landingpage":true,"timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"77.9","landingpage":false,"timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"22.1","landingpage":true,"timestamp":"1643673600000"},{"client":"unknown","date":"2022_03_01","percent":"48.8","landingpage":false,"timestamp":"1646092800000"},{"client":"unknown","date":"2022_03_01","percent":"51.2","landingpage":true,"timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"80.1","landingpage":false,"timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"19.9","landingpage":true,"timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"76.0","landingpage":false,"timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"24.0","landingpage":true,"timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"78.5","landingpage":false,"timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"21.5","landingpage":true,"timestamp":"1646092800000"},{"client":"unknown","date":"2022_04_01","percent":"35.9","landingpage":false,"timestamp":"1648771200000"},{"client":"unknown","date":"2022_04_01","percent":"64.1","landingpage":true,"timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"80.3","landingpage":false,"timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"19.7","landingpage":true,"timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"74.2","landingpage":false,"timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"25.8","landingpage":true,"timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"78.4","landingpage":false,"timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"21.6","landingpage":true,"timestamp":"1648771200000"},{"client":"unknown","date":"2022_05_01","percent":"42.2","landingpage":false,"timestamp":"1651363200000"},{"client":"unknown","date":"2022_05_01","percent":"57.8","landingpage":true,"timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"80.5","landingpage":false,"timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"19.5","landingpage":true,"timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"74.0","landingpage":false,"timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"26.0","landingpage":true,"timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"78.0","landingpage":false,"timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"22.0","landingpage":true,"timestamp":"1651363200000"},{"client":"unknown","date":"2022_06_01","percent":"47.5","landingpage":false,"timestamp":"1654041600000"},{"client":"unknown","date":"2022_06_01","percent":"52.5","landingpage":true,"timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"78.8","landingpage":false,"timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"21.2","landingpage":true,"timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"73.1","landingpage":false,"timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"26.9","landingpage":true,"timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"77.4","landingpage":false,"timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"22.6","landingpage":true,"timestamp":"1654041600000"},{"client":"unknown","date":"2022_07_01","percent":"51.6","landingpage":false,"timestamp":"1656633600000"},{"client":"unknown","date":"2022_07_01","percent":"48.4","landingpage":true,"timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"80.1","landingpage":false,"timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"19.9","landingpage":true,"timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"73.7","landingpage":false,"timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"26.3","landingpage":true,"timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"79.1","landingpage":false,"timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"20.9","landingpage":true,"timestamp":"1656633600000"},{"client":"unknown","date":"2022_08_01","percent":"46.2","landingpage":false,"timestamp":"1659312000000"},{"client":"unknown","date":"2022_08_01","percent":"53.8","landingpage":true,"timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"79.4","landingpage":false,"timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"20.6","landingpage":true,"timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"72.6","landingpage":false,"timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"27.4","landingpage":true,"timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"79.2","landingpage":false,"timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"20.8","landingpage":true,"timestamp":"1659312000000"},{"client":"unknown","date":"2022_09_01","percent":"46.4","landingpage":false,"timestamp":"1661990400000"},{"client":"unknown","date":"2022_09_01","percent":"53.6","landingpage":true,"timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"79.4","landingpage":false,"timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"20.6","landingpage":true,"timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"72.3","landingpage":false,"timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"27.7","landingpage":true,"timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"78.2","landingpage":false,"timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"21.8","landingpage":true,"timestamp":"1661990400000"},{"client":"unknown","date":"2022_10_01","percent":"40.8","landingpage":false,"timestamp":"1664582400000"},{"client":"unknown","date":"2022_10_01","percent":"59.2","landingpage":true,"timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"81.9","landingpage":false,"timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"18.1","landingpage":true,"timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"75.5","landingpage":false,"timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"24.5","landingpage":true,"timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"80.7","landingpage":false,"timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"19.3","landingpage":true,"timestamp":"1664582400000"},{"client":"unknown","date":"2022_11_01","percent":"47.0","landingpage":false,"timestamp":"1667260800000"},{"client":"unknown","date":"2022_11_01","percent":"53.0","landingpage":true,"timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"80.9","landingpage":false,"timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"19.1","landingpage":true,"timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"74.5","landingpage":false,"timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"25.5","landingpage":true,"timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"79.6","landingpage":false,"timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"20.4","landingpage":true,"timestamp":"1667260800000"},{"client":"unknown","date":"2022_12_01","percent":"38.0","landingpage":false,"timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"62.0","landingpage":true,"timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"79.5","landingpage":false,"timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"20.5","landingpage":true,"timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"74.0","landingpage":false,"timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"26.0","landingpage":true,"timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"78.6","landingpage":false,"timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"21.4","landingpage":true,"timestamp":"1669852800000"},{"client":"unknown","date":"2023_01_01","percent":"48.8","landingpage":false,"timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"51.2","landingpage":true,"timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"79.7","landingpage":false,"timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"20.3","landingpage":true,"timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"74.7","landingpage":false,"timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"25.3","landingpage":true,"timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"80.3","landingpage":false,"timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"19.7","landingpage":true,"timestamp":"1672531200000"},{"client":"unknown","date":"2023_02_01","percent":"54.5","landingpage":false,"timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"45.5","landingpage":true,"timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"79.1","landingpage":false,"timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"20.9","landingpage":true,"timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"74.2","landingpage":false,"timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"25.8","landingpage":true,"timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"78.9","landingpage":false,"timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"21.1","landingpage":true,"timestamp":"1675209600000"}]

        const date = "2023_02_01"; // TODO: make flexible by auto-selecting the "largest" date (by looking at timestamps)
        {
          let datapoints = rumarchiveData.filter( point => point.date == date );
          datapoints = datapoints.filter( point => point.client == "desktop" );

          // want to assign colors based on contribution: largest part gets the primary color, 2nd largest secondary color, etc.
          datapoints = datapoints.sort((a, b) => { return parseFloat(b[valueKey]) - parseFloat(a[valueKey]) } ); // desc sort
          datapoints = datapoints.map( (val, idx) => { val.color = piecolors[idx]; return val; } );

          options.chartId = "donut4";
          options.name = "Landing page on Desktop";
          options.datapoints = datapoints;
          options.datapointFieldname = valueKey;

          Donuts.fromData( descriptionKey, options );
        }
        {
          let datapoints = rumarchiveData.filter( point => point.date == date );
          datapoints = datapoints.filter( point => point.client == "mobile" );

          // want to assign colors based on contribution: largest part gets the primary color, 2nd largest secondary color, etc.
          datapoints = datapoints.sort((a, b) => { return parseFloat(b[valueKey]) - parseFloat(a[valueKey]) } ); // desc sort
          datapoints = datapoints.map( (val, idx) => { val.color = piecolors[idx]; return val; } );

          options.chartId = "donut5";
          options.name = "Landing page on Mobile";
          options.datapoints = datapoints;
          options.datapointFieldname = valueKey;

          Donuts.fromData( descriptionKey, options );
        }
    }

    {
        const metricName = "protocol";
        // let rumarchiveData = [{"client":"unknown","date":"2022_12_01","percent":"1.4","protocol":null,"timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"91.4","protocol":"h2","timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"0.1","protocol":"h3","timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"0.0","protocol":"h3-29","timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"7.1","protocol":"http/1.1","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"18.5","protocol":null,"timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"76.8","protocol":"h2","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.0","protocol":"h2-14","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.1","protocol":"h3","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.0","protocol":"h3-29","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.0","protocol":"http/1","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.0","protocol":"http/1.0","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"4.5","protocol":"http/1.1","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.0","protocol":"unknown","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"27.6","protocol":null,"timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"69.0","protocol":"h2","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"0.5","protocol":"h3","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"0.0","protocol":"h3-29","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"0.0","protocol":"http/1","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"0.0","protocol":"http/1.0","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"2.9","protocol":"http/1.1","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"24.1","protocol":null,"timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"73.4","protocol":"h2","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"0.1","protocol":"h3","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"0.0","protocol":"h3-29","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"0.0","protocol":"http/1","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"2.3","protocol":"http/1.1","timestamp":"1669852800000"},{"client":"unknown","date":"2023_01_01","percent":"4.0","protocol":null,"timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"79.0","protocol":"h2","timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"0.1","protocol":"h3","timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"0.0","protocol":"http/1","timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"16.8","protocol":"http/1.1","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"24.5","protocol":null,"timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"71.5","protocol":"h2","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"0.2","protocol":"h3","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"0.0","protocol":"h3-29","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"0.0","protocol":"http/1","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"0.0","protocol":"http/1.0","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"3.8","protocol":"http/1.1","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"26.0","protocol":null,"timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"70.2","protocol":"h2","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"0.4","protocol":"h3","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"0.0","protocol":"h3-29","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"0.0","protocol":"http/1","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"0.0","protocol":"http/1.0","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"3.3","protocol":"http/1.1","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"24.2","protocol":null,"timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"73.1","protocol":"h2","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"0.0","protocol":"h2-14","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"0.1","protocol":"h3","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"0.0","protocol":"h3-29","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"0.0","protocol":"http/1","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"2.5","protocol":"http/1.1","timestamp":"1672531200000"},{"client":"unknown","date":"2023_02_01","percent":"2.9","protocol":null,"timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"84.0","protocol":"h2","timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"0.1","protocol":"h3","timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"0.0","protocol":"http/1","timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"13.0","protocol":"http/1.1","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"21.9","protocol":null,"timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"70.1","protocol":"h2","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"0.1","protocol":"h3","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"0.0","protocol":"h3-29","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"0.0","protocol":"http/1","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"0.0","protocol":"http/1.0","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"7.9","protocol":"http/1.1","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"0.0","protocol":"unknown","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"29.7","protocol":null,"timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"65.7","protocol":"h2","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"0.5","protocol":"h3","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"0.0","protocol":"h3-29","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"0.0","protocol":"http/1","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"0.0","protocol":"http/1.0","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"4.1","protocol":"http/1.1","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"0.0","protocol":"unknown","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"26.4","protocol":null,"timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"70.1","protocol":"h2","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"0.0","protocol":"h2-14","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"0.2","protocol":"h3","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"0.0","protocol":"h3-29","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"0.0","protocol":"http/1","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"3.3","protocol":"http/1.1","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"0.0","protocol":"unknown","timestamp":"1675209600000"}];
        
        let rumarchiveData = [{"client":"unknown","date":"2021_10_01","percent":"14.7","protocol":null,"timestamp":"1633046400000"},{"client":"unknown","date":"2021_10_01","percent":"43.5","protocol":"h2","timestamp":"1633046400000"},{"client":"unknown","date":"2021_10_01","percent":"0.0","protocol":"http/1","timestamp":"1633046400000"},{"client":"unknown","date":"2021_10_01","percent":"41.7","protocol":"http/1.1","timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"25.4","protocol":null,"timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"62.2","protocol":"h2","timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"0.0","protocol":"h2-14","timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"0.0","protocol":"http/1","timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"0.0","protocol":"http/1.0","timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"12.4","protocol":"http/1.1","timestamp":"1633046400000"},{"client":"desktop","date":"2021_10_01","percent":"0.0","protocol":"unknown","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"37.9","protocol":null,"timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"57.3","protocol":"h2","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"0.0","protocol":"h2-14","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"0.0","protocol":"h3","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"0.0","protocol":"http/1","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"0.0","protocol":"http/1.0","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"4.8","protocol":"http/1.1","timestamp":"1633046400000"},{"client":"mobile","date":"2021_10_01","percent":"0.0","protocol":"unknown","timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"39.0","protocol":null,"timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"57.6","protocol":"h2","timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"0.0","protocol":"http/1","timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"3.3","protocol":"http/1.1","timestamp":"1633046400000"},{"client":"tablet","date":"2021_10_01","percent":"0.0","protocol":"unknown","timestamp":"1633046400000"},{"client":"unknown","date":"2021_11_01","percent":"6.1","protocol":null,"timestamp":"1635724800000"},{"client":"unknown","date":"2021_11_01","percent":"58.2","protocol":"h2","timestamp":"1635724800000"},{"client":"unknown","date":"2021_11_01","percent":"0.0","protocol":"http/1","timestamp":"1635724800000"},{"client":"unknown","date":"2021_11_01","percent":"35.7","protocol":"http/1.1","timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"19.6","protocol":null,"timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"69.0","protocol":"h2","timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"0.0","protocol":"h2-14","timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"0.0","protocol":"http/1","timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"0.0","protocol":"http/1.0","timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"11.4","protocol":"http/1.1","timestamp":"1635724800000"},{"client":"desktop","date":"2021_11_01","percent":"0.0","protocol":"unknown","timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"36.7","protocol":null,"timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"59.8","protocol":"h2","timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"0.0","protocol":"h2-14","timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"0.0","protocol":"http/1","timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"0.0","protocol":"http/1.0","timestamp":"1635724800000"},{"client":"mobile","date":"2021_11_01","percent":"3.6","protocol":"http/1.1","timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"37.7","protocol":null,"timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"60.5","protocol":"h2","timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"0.0","protocol":"http/1","timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"1.8","protocol":"http/1.1","timestamp":"1635724800000"},{"client":"tablet","date":"2021_11_01","percent":"0.0","protocol":"unknown","timestamp":"1635724800000"},{"client":"unknown","date":"2021_12_01","percent":"14.8","protocol":null,"timestamp":"1638316800000"},{"client":"unknown","date":"2021_12_01","percent":"57.1","protocol":"h2","timestamp":"1638316800000"},{"client":"unknown","date":"2021_12_01","percent":"0.0","protocol":"http/1","timestamp":"1638316800000"},{"client":"unknown","date":"2021_12_01","percent":"28.0","protocol":"http/1.1","timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"18.8","protocol":null,"timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"72.0","protocol":"h2","timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"0.0","protocol":"h2-14","timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"0.0","protocol":"http/1","timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"0.0","protocol":"http/1.0","timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"9.2","protocol":"http/1.1","timestamp":"1638316800000"},{"client":"desktop","date":"2021_12_01","percent":"0.0","protocol":"unknown","timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"32.7","protocol":null,"timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"63.6","protocol":"h2","timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"0.0","protocol":"h3","timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"0.0","protocol":"http/1","timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"0.0","protocol":"http/1.0","timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"3.7","protocol":"http/1.1","timestamp":"1638316800000"},{"client":"mobile","date":"2021_12_01","percent":"0.0","protocol":"unknown","timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"35.8","protocol":null,"timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"62.3","protocol":"h2","timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"0.0","protocol":"h2-14","timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"0.0","protocol":"http/1","timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"2.0","protocol":"http/1.1","timestamp":"1638316800000"},{"client":"tablet","date":"2021_12_01","percent":"0.0","protocol":"unknown","timestamp":"1638316800000"},{"client":"unknown","date":"2022_01_01","percent":"20.0","protocol":null,"timestamp":"1640995200000"},{"client":"unknown","date":"2022_01_01","percent":"52.9","protocol":"h2","timestamp":"1640995200000"},{"client":"unknown","date":"2022_01_01","percent":"0.0","protocol":"http/1","timestamp":"1640995200000"},{"client":"unknown","date":"2022_01_01","percent":"27.1","protocol":"http/1.1","timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"26.2","protocol":null,"timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"69.5","protocol":"h2","timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"0.0","protocol":"h2-14","timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"0.0","protocol":"http/1","timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"0.0","protocol":"http/1.0","timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"4.3","protocol":"http/1.1","timestamp":"1640995200000"},{"client":"desktop","date":"2022_01_01","percent":"0.0","protocol":"unknown","timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"34.2","protocol":null,"timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"62.5","protocol":"h2","timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"0.0","protocol":"h3","timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"0.0","protocol":"http/1","timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"0.0","protocol":"http/1.0","timestamp":"1640995200000"},{"client":"mobile","date":"2022_01_01","percent":"3.3","protocol":"http/1.1","timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"33.4","protocol":null,"timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"64.7","protocol":"h2","timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"0.0","protocol":"h2-14","timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"0.0","protocol":"http/1","timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"0.0","protocol":"http/1.0","timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"1.9","protocol":"http/1.1","timestamp":"1640995200000"},{"client":"tablet","date":"2022_01_01","percent":"0.0","protocol":"unknown","timestamp":"1640995200000"},{"client":"unknown","date":"2022_02_01","percent":"28.7","protocol":null,"timestamp":"1643673600000"},{"client":"unknown","date":"2022_02_01","percent":"50.5","protocol":"h2","timestamp":"1643673600000"},{"client":"unknown","date":"2022_02_01","percent":"0.0","protocol":"http/1","timestamp":"1643673600000"},{"client":"unknown","date":"2022_02_01","percent":"20.8","protocol":"http/1.1","timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"19.6","protocol":null,"timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"73.0","protocol":"h2","timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"0.0","protocol":"h2-14","timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"0.0","protocol":"http/1","timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"0.0","protocol":"http/1.0","timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"7.4","protocol":"http/1.1","timestamp":"1643673600000"},{"client":"desktop","date":"2022_02_01","percent":"0.0","protocol":"unknown","timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"33.0","protocol":null,"timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"63.7","protocol":"h2","timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"0.0","protocol":"h3","timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"0.0","protocol":"http/1","timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"0.0","protocol":"http/1.0","timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"3.3","protocol":"http/1.1","timestamp":"1643673600000"},{"client":"mobile","date":"2022_02_01","percent":"0.0","protocol":"unknown","timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"30.2","protocol":null,"timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"67.8","protocol":"h2","timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"0.0","protocol":"http/1","timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"0.0","protocol":"http/1.0","timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"2.1","protocol":"http/1.1","timestamp":"1643673600000"},{"client":"tablet","date":"2022_02_01","percent":"0.0","protocol":"unknown","timestamp":"1643673600000"},{"client":"unknown","date":"2022_03_01","percent":"11.7","protocol":null,"timestamp":"1646092800000"},{"client":"unknown","date":"2022_03_01","percent":"64.8","protocol":"h2","timestamp":"1646092800000"},{"client":"unknown","date":"2022_03_01","percent":"0.0","protocol":"http/1","timestamp":"1646092800000"},{"client":"unknown","date":"2022_03_01","percent":"23.5","protocol":"http/1.1","timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"19.7","protocol":null,"timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"73.6","protocol":"h2","timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"0.0","protocol":"h2-14","timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"0.0","protocol":"http/1","timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"0.0","protocol":"http/1.0","timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"6.7","protocol":"http/1.1","timestamp":"1646092800000"},{"client":"desktop","date":"2022_03_01","percent":"0.0","protocol":"unknown","timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"33.0","protocol":null,"timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"64.0","protocol":"h2","timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"0.0","protocol":"h2-14","timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"0.0","protocol":"h3","timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"0.0","protocol":"http/1","timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"0.0","protocol":"http/1.0","timestamp":"1646092800000"},{"client":"mobile","date":"2022_03_01","percent":"3.0","protocol":"http/1.1","timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"29.7","protocol":null,"timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"68.4","protocol":"h2","timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"0.0","protocol":"h2-14","timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"0.0","protocol":"http/1","timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"0.0","protocol":"http/1.0","timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"1.9","protocol":"http/1.1","timestamp":"1646092800000"},{"client":"tablet","date":"2022_03_01","percent":"0.0","protocol":"unknown","timestamp":"1646092800000"},{"client":"unknown","date":"2022_04_01","percent":"9.7","protocol":null,"timestamp":"1648771200000"},{"client":"unknown","date":"2022_04_01","percent":"79.1","protocol":"h2","timestamp":"1648771200000"},{"client":"unknown","date":"2022_04_01","percent":"0.0","protocol":"http/1","timestamp":"1648771200000"},{"client":"unknown","date":"2022_04_01","percent":"11.1","protocol":"http/1.1","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"23.8","protocol":null,"timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"67.6","protocol":"h2","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"0.0","protocol":"h2-14","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"0.0","protocol":"h3","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"0.0","protocol":"http/1","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"0.0","protocol":"http/1.0","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"8.6","protocol":"http/1.1","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"0.0","protocol":"http/2.0","timestamp":"1648771200000"},{"client":"desktop","date":"2022_04_01","percent":"0.0","protocol":"unknown","timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"29.0","protocol":null,"timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"66.3","protocol":"h2","timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"0.0","protocol":"h2-14","timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"0.0","protocol":"h3","timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"0.0","protocol":"http/1","timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"0.0","protocol":"http/1.0","timestamp":"1648771200000"},{"client":"mobile","date":"2022_04_01","percent":"4.7","protocol":"http/1.1","timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"29.5","protocol":null,"timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"67.9","protocol":"h2","timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"0.0","protocol":"h3","timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"0.0","protocol":"http/1","timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"2.6","protocol":"http/1.1","timestamp":"1648771200000"},{"client":"tablet","date":"2022_04_01","percent":"0.0","protocol":"unknown","timestamp":"1648771200000"},{"client":"unknown","date":"2022_05_01","percent":"10.6","protocol":null,"timestamp":"1651363200000"},{"client":"unknown","date":"2022_05_01","percent":"78.0","protocol":"h2","timestamp":"1651363200000"},{"client":"unknown","date":"2022_05_01","percent":"0.0","protocol":"http/1","timestamp":"1651363200000"},{"client":"unknown","date":"2022_05_01","percent":"11.4","protocol":"http/1.1","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"25.8","protocol":null,"timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"68.4","protocol":"h2","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"0.0","protocol":"h2-14","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"0.0","protocol":"h3","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"0.0","protocol":"http/1","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"0.0","protocol":"http/1.0","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"5.8","protocol":"http/1.1","timestamp":"1651363200000"},{"client":"desktop","date":"2022_05_01","percent":"0.0","protocol":"unknown","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"28.1","protocol":null,"timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"67.3","protocol":"h2","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"0.0","protocol":"h2-14","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"0.0","protocol":"h3","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"0.0","protocol":"http/1","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"0.0","protocol":"http/1.0","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"4.6","protocol":"http/1.1","timestamp":"1651363200000"},{"client":"mobile","date":"2022_05_01","percent":"0.0","protocol":"unknown","timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"26.4","protocol":null,"timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"70.3","protocol":"h2","timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"0.0","protocol":"h2-14","timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"0.0","protocol":"h3","timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"0.0","protocol":"http/1","timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"3.3","protocol":"http/1.1","timestamp":"1651363200000"},{"client":"tablet","date":"2022_05_01","percent":"0.0","protocol":"unknown","timestamp":"1651363200000"},{"client":"unknown","date":"2022_06_01","percent":"4.8","protocol":null,"timestamp":"1654041600000"},{"client":"unknown","date":"2022_06_01","percent":"82.1","protocol":"h2","timestamp":"1654041600000"},{"client":"unknown","date":"2022_06_01","percent":"13.1","protocol":"http/1.1","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"21.4","protocol":null,"timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"69.6","protocol":"h2","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"0.0","protocol":"h2-14","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"0.0","protocol":"h3","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"0.0","protocol":"http/1","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"0.0","protocol":"http/1.0","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"9.0","protocol":"http/1.1","timestamp":"1654041600000"},{"client":"desktop","date":"2022_06_01","percent":"0.0","protocol":"unknown","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"27.6","protocol":null,"timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"67.1","protocol":"h2","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"0.0","protocol":"h2-14","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"0.0","protocol":"h3","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"0.0","protocol":"http/1","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"0.0","protocol":"http/1.0","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"5.3","protocol":"http/1.1","timestamp":"1654041600000"},{"client":"mobile","date":"2022_06_01","percent":"0.0","protocol":"unknown","timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"24.3","protocol":null,"timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"71.9","protocol":"h2","timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"0.0","protocol":"http/1","timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"3.8","protocol":"http/1.1","timestamp":"1654041600000"},{"client":"tablet","date":"2022_06_01","percent":"0.0","protocol":"unknown","timestamp":"1654041600000"},{"client":"unknown","date":"2022_07_01","percent":"10.8","protocol":null,"timestamp":"1656633600000"},{"client":"unknown","date":"2022_07_01","percent":"81.5","protocol":"h2","timestamp":"1656633600000"},{"client":"unknown","date":"2022_07_01","percent":"7.6","protocol":"http/1.1","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"20.2","protocol":null,"timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"72.4","protocol":"h2","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"0.0","protocol":"h2-14","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"0.0","protocol":"h3","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"0.0","protocol":"http/1","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"0.0","protocol":"http/1.0","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"7.5","protocol":"http/1.1","timestamp":"1656633600000"},{"client":"desktop","date":"2022_07_01","percent":"0.0","protocol":"unknown","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"22.3","protocol":null,"timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"71.9","protocol":"h2","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"0.0","protocol":"h2-14","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"0.0","protocol":"h3","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"0.0","protocol":"http/1","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"0.0","protocol":"http/1.0","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"5.8","protocol":"http/1.1","timestamp":"1656633600000"},{"client":"mobile","date":"2022_07_01","percent":"0.0","protocol":"unknown","timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"20.9","protocol":null,"timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"74.5","protocol":"h2","timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"0.0","protocol":"h2-14","timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"0.0","protocol":"h3","timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"0.0","protocol":"http/1","timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"4.6","protocol":"http/1.1","timestamp":"1656633600000"},{"client":"tablet","date":"2022_07_01","percent":"0.0","protocol":"unknown","timestamp":"1656633600000"},{"client":"unknown","date":"2022_08_01","percent":"2.9","protocol":null,"timestamp":"1659312000000"},{"client":"unknown","date":"2022_08_01","percent":"86.8","protocol":"h2","timestamp":"1659312000000"},{"client":"unknown","date":"2022_08_01","percent":"0.0","protocol":"http/1","timestamp":"1659312000000"},{"client":"unknown","date":"2022_08_01","percent":"10.3","protocol":"http/1.1","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"16.8","protocol":null,"timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"77.0","protocol":"h2","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"0.0","protocol":"h2-14","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"0.0","protocol":"h3","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"0.0","protocol":"http/1","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"0.0","protocol":"http/1.0","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"6.2","protocol":"http/1.1","timestamp":"1659312000000"},{"client":"desktop","date":"2022_08_01","percent":"0.0","protocol":"unknown","timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"23.3","protocol":null,"timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"71.6","protocol":"h2","timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"0.0","protocol":"h2-14","timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"0.0","protocol":"h3","timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"0.0","protocol":"http/1","timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"0.0","protocol":"http/1.0","timestamp":"1659312000000"},{"client":"mobile","date":"2022_08_01","percent":"5.2","protocol":"http/1.1","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"22.0","protocol":null,"timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"74.8","protocol":"h2","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"0.0","protocol":"h2-14","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"0.0","protocol":"h3","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"0.0","protocol":"http/1","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"0.0","protocol":"http/1.0","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"3.2","protocol":"http/1.1","timestamp":"1659312000000"},{"client":"tablet","date":"2022_08_01","percent":"0.0","protocol":"unknown","timestamp":"1659312000000"},{"client":"unknown","date":"2022_09_01","percent":"9.8","protocol":null,"timestamp":"1661990400000"},{"client":"unknown","date":"2022_09_01","percent":"84.2","protocol":"h2","timestamp":"1661990400000"},{"client":"unknown","date":"2022_09_01","percent":"0.2","protocol":"h3","timestamp":"1661990400000"},{"client":"unknown","date":"2022_09_01","percent":"0.0","protocol":"h3-29","timestamp":"1661990400000"},{"client":"unknown","date":"2022_09_01","percent":"0.0","protocol":"http/1","timestamp":"1661990400000"},{"client":"unknown","date":"2022_09_01","percent":"5.8","protocol":"http/1.1","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"16.5","protocol":null,"timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"76.6","protocol":"h2","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"0.0","protocol":"h2-14","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"0.1","protocol":"h3","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"0.0","protocol":"h3-29","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"0.0","protocol":"http/1","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"0.0","protocol":"http/1.0","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"6.8","protocol":"http/1.1","timestamp":"1661990400000"},{"client":"desktop","date":"2022_09_01","percent":"0.0","protocol":"unknown","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"22.2","protocol":null,"timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"72.4","protocol":"h2","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"0.0","protocol":"h2-14","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"0.5","protocol":"h3","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"0.0","protocol":"h3-29","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"0.0","protocol":"http/1","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"0.0","protocol":"http/1.0","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"4.9","protocol":"http/1.1","timestamp":"1661990400000"},{"client":"mobile","date":"2022_09_01","percent":"0.0","protocol":"unknown","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"20.9","protocol":null,"timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"75.1","protocol":"h2","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"0.0","protocol":"h2-14","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"0.2","protocol":"h3","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"0.0","protocol":"h3-29","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"0.0","protocol":"http/1","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"3.9","protocol":"http/1.1","timestamp":"1661990400000"},{"client":"tablet","date":"2022_09_01","percent":"0.0","protocol":"unknown","timestamp":"1661990400000"},{"client":"unknown","date":"2022_10_01","percent":"4.5","protocol":null,"timestamp":"1664582400000"},{"client":"unknown","date":"2022_10_01","percent":"79.8","protocol":"h2","timestamp":"1664582400000"},{"client":"unknown","date":"2022_10_01","percent":"0.4","protocol":"h3","timestamp":"1664582400000"},{"client":"unknown","date":"2022_10_01","percent":"0.0","protocol":"h3-29","timestamp":"1664582400000"},{"client":"unknown","date":"2022_10_01","percent":"0.0","protocol":"http/1","timestamp":"1664582400000"},{"client":"unknown","date":"2022_10_01","percent":"15.3","protocol":"http/1.1","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"25.0","protocol":null,"timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"71.1","protocol":"h2","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"0.0","protocol":"h2-14","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"0.2","protocol":"h3","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"0.0","protocol":"h3-29","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"0.0","protocol":"http/1","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"0.0","protocol":"http/1.0","timestamp":"1664582400000"},{"client":"desktop","date":"2022_10_01","percent":"3.8","protocol":"http/1.1","timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"28.7","protocol":null,"timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"66.9","protocol":"h2","timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"0.4","protocol":"h3","timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"0.0","protocol":"h3-29","timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"0.0","protocol":"http/1","timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"0.0","protocol":"http/1.0","timestamp":"1664582400000"},{"client":"mobile","date":"2022_10_01","percent":"4.0","protocol":"http/1.1","timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"27.7","protocol":null,"timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"69.3","protocol":"h2","timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"0.1","protocol":"h3","timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"0.0","protocol":"h3-29","timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"0.0","protocol":"http/1","timestamp":"1664582400000"},{"client":"tablet","date":"2022_10_01","percent":"2.8","protocol":"http/1.1","timestamp":"1664582400000"},{"client":"unknown","date":"2022_11_01","percent":"1.9","protocol":null,"timestamp":"1667260800000"},{"client":"unknown","date":"2022_11_01","percent":"82.8","protocol":"h2","timestamp":"1667260800000"},{"client":"unknown","date":"2022_11_01","percent":"0.2","protocol":"h3","timestamp":"1667260800000"},{"client":"unknown","date":"2022_11_01","percent":"0.0","protocol":"h3-29","timestamp":"1667260800000"},{"client":"unknown","date":"2022_11_01","percent":"0.0","protocol":"http/1","timestamp":"1667260800000"},{"client":"unknown","date":"2022_11_01","percent":"15.0","protocol":"http/1.1","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"22.5","protocol":null,"timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"71.9","protocol":"h2","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"0.0","protocol":"h2-14","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"0.1","protocol":"h3","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"0.0","protocol":"h3-29","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"0.0","protocol":"http/1","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"0.0","protocol":"http/1.0","timestamp":"1667260800000"},{"client":"desktop","date":"2022_11_01","percent":"5.5","protocol":"http/1.1","timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"26.3","protocol":null,"timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"69.5","protocol":"h2","timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"0.5","protocol":"h3","timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"0.0","protocol":"h3-29","timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"0.0","protocol":"http/1","timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"0.0","protocol":"http/1.0","timestamp":"1667260800000"},{"client":"mobile","date":"2022_11_01","percent":"3.8","protocol":"http/1.1","timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"22.4","protocol":null,"timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"74.6","protocol":"h2","timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"0.0","protocol":"h2-14","timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"0.2","protocol":"h3","timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"0.0","protocol":"h3-29","timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"0.0","protocol":"http/1","timestamp":"1667260800000"},{"client":"tablet","date":"2022_11_01","percent":"2.9","protocol":"http/1.1","timestamp":"1667260800000"},{"client":"unknown","date":"2022_12_01","percent":"1.4","protocol":null,"timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"91.4","protocol":"h2","timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"0.1","protocol":"h3","timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"0.0","protocol":"h3-29","timestamp":"1669852800000"},{"client":"unknown","date":"2022_12_01","percent":"7.1","protocol":"http/1.1","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"18.5","protocol":null,"timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"76.8","protocol":"h2","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.0","protocol":"h2-14","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.1","protocol":"h3","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.0","protocol":"h3-29","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.0","protocol":"http/1","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.0","protocol":"http/1.0","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"4.5","protocol":"http/1.1","timestamp":"1669852800000"},{"client":"desktop","date":"2022_12_01","percent":"0.0","protocol":"unknown","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"27.6","protocol":null,"timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"69.0","protocol":"h2","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"0.5","protocol":"h3","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"0.0","protocol":"h3-29","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"0.0","protocol":"http/1","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"0.0","protocol":"http/1.0","timestamp":"1669852800000"},{"client":"mobile","date":"2022_12_01","percent":"2.9","protocol":"http/1.1","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"24.1","protocol":null,"timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"73.4","protocol":"h2","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"0.1","protocol":"h3","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"0.0","protocol":"h3-29","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"0.0","protocol":"http/1","timestamp":"1669852800000"},{"client":"tablet","date":"2022_12_01","percent":"2.3","protocol":"http/1.1","timestamp":"1669852800000"},{"client":"unknown","date":"2023_01_01","percent":"4.0","protocol":null,"timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"79.0","protocol":"h2","timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"0.1","protocol":"h3","timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"0.0","protocol":"http/1","timestamp":"1672531200000"},{"client":"unknown","date":"2023_01_01","percent":"16.8","protocol":"http/1.1","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"24.5","protocol":null,"timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"71.5","protocol":"h2","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"0.2","protocol":"h3","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"0.0","protocol":"h3-29","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"0.0","protocol":"http/1","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"0.0","protocol":"http/1.0","timestamp":"1672531200000"},{"client":"desktop","date":"2023_01_01","percent":"3.8","protocol":"http/1.1","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"26.0","protocol":null,"timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"70.2","protocol":"h2","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"0.4","protocol":"h3","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"0.0","protocol":"h3-29","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"0.0","protocol":"http/1","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"0.0","protocol":"http/1.0","timestamp":"1672531200000"},{"client":"mobile","date":"2023_01_01","percent":"3.3","protocol":"http/1.1","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"24.2","protocol":null,"timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"73.1","protocol":"h2","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"0.0","protocol":"h2-14","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"0.1","protocol":"h3","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"0.0","protocol":"h3-29","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"0.0","protocol":"http/1","timestamp":"1672531200000"},{"client":"tablet","date":"2023_01_01","percent":"2.5","protocol":"http/1.1","timestamp":"1672531200000"},{"client":"unknown","date":"2023_02_01","percent":"2.9","protocol":null,"timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"84.0","protocol":"h2","timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"0.1","protocol":"h3","timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"0.0","protocol":"http/1","timestamp":"1675209600000"},{"client":"unknown","date":"2023_02_01","percent":"13.0","protocol":"http/1.1","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"21.9","protocol":null,"timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"70.1","protocol":"h2","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"0.1","protocol":"h3","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"0.0","protocol":"h3-29","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"0.0","protocol":"http/1","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"0.0","protocol":"http/1.0","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"7.9","protocol":"http/1.1","timestamp":"1675209600000"},{"client":"desktop","date":"2023_02_01","percent":"0.0","protocol":"unknown","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"29.7","protocol":null,"timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"65.7","protocol":"h2","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"0.5","protocol":"h3","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"0.0","protocol":"h3-29","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"0.0","protocol":"http/1","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"0.0","protocol":"http/1.0","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"4.1","protocol":"http/1.1","timestamp":"1675209600000"},{"client":"mobile","date":"2023_02_01","percent":"0.0","protocol":"unknown","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"26.4","protocol":null,"timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"70.1","protocol":"h2","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"0.0","protocol":"h2-14","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"0.2","protocol":"h3","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"0.0","protocol":"h3-29","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"0.0","protocol":"http/1","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"3.3","protocol":"http/1.1","timestamp":"1675209600000"},{"client":"tablet","date":"2023_02_01","percent":"0.0","protocol":"unknown","timestamp":"1675209600000"}];
        let rumarchiveDataH2 = rumarchiveData.filter( datapoint => datapoint.protocol === "h2" );

        const options = {};
        options.chartId = "chart1";
        options.histogram = { enabled: false }
        options.metric = metricName;
        options.dataArchive = {
            name: "RUM Archive",
            URL: "https://rumarchive.com/"
        };

        options.timeseries = [
          {
            name: "H2 Desktop",
            data: rumarchiveDataH2.filter( o => o.client == 'desktop' ),
            fields: ["percent"],
            color: TimeSeries.Colors.DESKTOP
          },
          {
            name: "H2 Mobile",
            data: rumarchiveDataH2.filter( o => o.client == 'mobile' ),
            fields: ["percent"],
            color: TimeSeries.Colors.MOBILE
          },
          {
            name: "H1 Desktop",
            data: rumarchiveData.filter( o => o.protocol == 'http/1.1' && o.client == "desktop" ),
            fields: ["percent"],
            color: TimeSeries.Colors.RUMARCHIVE_HEX[3]
          },
          {
            name: "H1 Mobile",
            data: rumarchiveData.filter( o => o.protocol == 'http/1.1' && o.client == "mobile" ),
            fields: ["percent"],
            color: TimeSeries.Colors.RUMARCHIVE_HEX[4]
          }
        ];

        options.type = "%";

        options.id = "h2_usage";
        options.name = "HTTP/2 usage";

        TimeSeries.fromData(rumarchiveData, metricName, options, rumarchiveData[0].date, rumarchiveData[rumarchiveData.length - 1].date );


        const options2 = {};
        options2.chartId = "chart2";
        options2.histogram = { enabled: false }
        options2.metric = metricName;
        options2.dataArchive = {
            name: "HTTP Archive",
            URL: "https://httparchive.org/"
        };

        options2.timeseries = {
            enabled: true,
            fields: ["percent"]
        };

        options2.type = "%";

        options2.id = "h2_usage";
        options2.name = "HTTP/2 usage"

        TimeSeries.fromURL( "pctHttps", options2, rumarchiveData[0].date, rumarchiveData[rumarchiveData.length - 1].date );

    }

    async function renderUserAgentTimeseries() {
        try {
          const metricName = "useragent";

          let response = await fetch(DATA_BASE_URL + "useragentfamily_devicetype.json");
          let rumarchiveData = await response.json();
        
          rumarchiveData = rumarchiveData.filter( datapoint => ((datapoint.useragent === "Chrome" && datapoint.client === "desktop") || (datapoint.useragent == "Chrome Mobile" && datapoint.client === "mobile")) && (datapoint.percent !== "0.0") );

          const options = {};
          options.chartId = "chart3";
          options.histogram = { enabled: false };
          options.metric = metricName;
          options.dataArchive = {
            name: "RUM Archive",
            URL: "https://rumarchive.com/"
          };

          options.timeseries = {
              enabled: true,
              fields: ["percent"]
          };

          options.type = "%";

          options.id = "useragent";
          options.name = "Chrome usage";

          options.yMax = 100;

          TimeSeries.fromData(rumarchiveData, metricName, options, rumarchiveData[0].date, rumarchiveData[rumarchiveData.length - 1].date );
        }
        catch(e) {
          console.error(e);
          return;
        }
    }
    
    renderUserAgentTimeseries();

</script>
